webpackJsonprmsh([85],{X6wn:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("aA9S"),o=a.n(r),l={data:function(){return{visible:!1,sysId:"",dataForm:{roleId:0,roleCode:"",roleName:"",roleType:1,roleState:1},dataRule:{roleCode:[{required:!0,message:"角色代码必填",trigger:"blur"}],roleName:[{required:!0,message:"角色名称必填",trigger:"blur"}]},roleType:[{id:1,text:"系统管理员"},{id:2,text:"安全保密员"},{id:3,text:"安全审计员"},{id:4,text:"业务管理员"}]}},methods:{init:function(e,t){var a=this;this.dataForm.roleId=e&&e.roleId||0,this.visible=!0,this.sysId=t,this.$nextTick(function(){a.$refs.dataForm.resetFields(),a.dataForm.roleId&&(a.dataForm.roleCode=e.roleCode,a.dataForm.roleName=e.roleName,a.dataForm.roleType=e.roleType?parseInt(e.roleType):1,a.dataForm.roleState=e.roleState?parseInt(e.roleState):1)})},dataFormSubmit:function(){var e=this;this.$refs.dataForm.validate(function(t){if(t){var a={sysId:e.sysId,areaId:e.$store.state.user.areaId};e.dataForm.roleId=e.dataForm.roleId||void 0,o()(a,e.dataForm),e.$http({url:e.$http.adornUrl(e.API.savaOrUpdateRoleInfo),method:"post",data:e.$http.adornData(a)}).then(function(t){var a=t.data;a&&0===a.code?e.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){e.visible=!1,e.$emit("refreshDataList")}}):e.$message.error(a.msg)})}})}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.dataForm.id?"角色修改":"角色新增","close-on-click-modal":!1,visible:e.visible},on:{"update:visible":function(t){e.visible=t}}},[a("el-form",{ref:"dataForm",attrs:{model:e.dataForm,rules:e.dataRule,"label-width":"100px"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.dataFormSubmit()}}},[a("el-form-item",{attrs:{label:"角色代码",prop:"roleCode"}},[a("el-input",{model:{value:e.dataForm.roleCode,callback:function(t){e.$set(e.dataForm,"roleCode",t)},expression:"dataForm.roleCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[a("el-input",{model:{value:e.dataForm.roleName,callback:function(t){e.$set(e.dataForm,"roleName",t)},expression:"dataForm.roleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色类别",prop:"roleType"}},[a("el-radio-group",{model:{value:e.dataForm.roleType,callback:function(t){e.$set(e.dataForm,"roleType",t)},expression:"dataForm.roleType"}},e._l(e.roleType,function(t){return a("el-radio",{key:t.id,attrs:{label:t.id}},[e._v(e._s(t.text))])}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"角色状态",prop:"roleState"}},[a("el-radio-group",{model:{value:e.dataForm.roleState,callback:function(t){e.$set(e.dataForm,"roleState",t)},expression:"dataForm.roleState"}},[a("el-radio",{attrs:{label:0}},[e._v("停用")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("启用")])],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.dataFormSubmit()}}},[e._v("确定")])],1)],1)},staticRenderFns:[]},i=a("C7Lr")(l,d,!1,null,null,null);t.default=i.exports}});
//# sourceMappingURL=85.23c794b9f5350e5447cf.js.map