{"version":3,"sources":["webpack:///src/views/main/main-content.vue","webpack:///./src/views/main/main-content.vue?c5a8","webpack:///./src/views/main/main-content.vue"],"names":["main_content","inject","data","computed","documentClientHeight","get","this","$store","state","common","tabSettings","menuActiveName","set","val","commit","mainTabs","mainTabsActiveName","siteContentViewHeight","height","$route","meta","isTab","Object","validate","iframeUrl","systemId","methods","selectedTabHandle","tab","filter","item","name","length","$router","push","query","params","removeTabHandle","tabName","_this","tabsCloseCurrentHandle","tabsCloseOtherHandle","_this2","tabsCloseAllHandle","tabsRefreshCurrentHandle","_this3","$nextTick","watch","main_main_content","render","_vm","_h","$createElement","_c","_self","staticClass","class","site-content--tabs","attrs","closable","on","tab-click","tab-remove","model","value","callback","$$v","expression","show-timeout","_v","slot","nativeOn","click","$event","refresh","_l","key","label","title","body-style","type","src","width","frameborder","scrolling","parseInt","_e","mode","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/90.603eb6db0dfd0542ac84.js","sourcesContent":["<template>\r\n  <main class=\"site-content\" :class=\"{'site-content--tabs':$route.meta.isTab && tabSettings}\">\r\n    <!-- 主入口标签页 s -->\r\n    <el-tabs\r\n      v-if=\"$route.meta.isTab && tabSettings\"\r\n      v-model=\"mainTabsActiveName\"\r\n      :closable=\"true\"\r\n      @tab-click=\"selectedTabHandle\"\r\n      @tab-remove=\"removeTabHandle\">\r\n      <el-dropdown class=\"site-tabs__tools\" :show-timeout=\"0\">\r\n        <i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n        <el-dropdown-menu slot=\"dropdown\">\r\n          <el-dropdown-item @click.native=\"tabsCloseCurrentHandle\">关闭当前标签页</el-dropdown-item>\r\n          <el-dropdown-item @click.native=\"tabsCloseOtherHandle\">关闭其它标签页</el-dropdown-item>\r\n          <el-dropdown-item @click.native=\"tabsCloseAllHandle\">关闭全部标签页</el-dropdown-item>\r\n          <el-dropdown-item @click.native=\"refresh()\">刷新当前标签页</el-dropdown-item>\r\n        </el-dropdown-menu>\r\n      </el-dropdown>\r\n      <el-tab-pane\r\n        v-for=\"item in mainTabs\"\r\n        :key=\"item.name\"\r\n        :label=\"item.title\"\r\n        :name=\"item.name\">\r\n        <el-card :body-style=\"siteContentViewHeight\">\r\n          <iframe\r\n            v-if=\"item.type === 'iframe'\"\r\n            :src=\"item.iframeUrl\"\r\n            width=\"100%\" height=\"100%\" frameborder=\"0\" scrolling=\"yes\">\r\n          </iframe>\r\n          <!-- <keep-alive v-else> -->\r\n          <div v-else>\r\n            <router-view v-if=\"item.name === mainTabsActiveName\" :siteContentViewHeight='parseInt(siteContentViewHeight.height)' />\r\n          <!-- </keep-alive> -->\r\n          </div>\r\n        </el-card>\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n    <!-- 主入口标签页 e -->\r\n    <el-card v-else :body-style=\"siteContentViewHeight\">\r\n      <!-- <keep-alive> -->\r\n      <transition name=\"fade-transform\" mode=\"out-in\">\r\n        <router-view :siteContentViewHeight='parseInt(siteContentViewHeight.height)' />\r\n      </transition>\r\n      <!-- </keep-alive> -->\r\n    </el-card>\r\n  </main>\r\n</template>\r\n\r\n<script>\r\n  import { isURL } from '@/utils/validate'\r\n  export default {\r\n    inject: ['refresh'],\r\n    data () {\r\n      return {\r\n      }\r\n    },\r\n    computed: {\r\n      documentClientHeight: {\r\n        get () { return this.$store.state.common.documentClientHeight }\r\n      },\r\n      tabSettings: {\r\n        get () { return this.$store.state.common.tabSettings}\r\n      },\r\n      menuActiveName: {\r\n        get () { return this.$store.state.common.menuActiveName },\r\n        set (val) { this.$store.commit('common/updateMenuActiveName', val) }\r\n      },\r\n      mainTabs: {\r\n        get () { return this.$store.state.common.mainTabs },\r\n        set (val) { this.$store.commit('common/updateMainTabs', val) }\r\n      },\r\n      mainTabsActiveName: {\r\n        get () { return this.$store.state.common.mainTabsActiveName },\r\n        set (val) { this.$store.commit('common/updateMainTabsActiveName', val) }\r\n      },\r\n      siteContentViewHeight () {\r\n        var height = this.documentClientHeight - 70 -2\r\n        if (this.$route.meta.isTab && this.tabSettings) {\r\n          height -= 55\r\n          return isURL(this.$route.meta.iframeUrl) ? { height: height + 'px' } : { height: height + 'px' }\r\n        }\r\n        return { height: height + 'px' }\r\n      },\r\n      systemId: {\r\n        get() {return this.$store.state.common.systemId;}\r\n      }\r\n    },\r\n    methods: {\r\n      // tabs, 选中tab\r\n      selectedTabHandle (tab) {\r\n        tab = this.mainTabs.filter(item => item.name === tab.name)\r\n        if (tab.length >= 1) {\r\n          this.$router.push({ name: tab[0].name, query: tab[0].query, params: tab[0].params })\r\n        }\r\n      },\r\n      // tabs, 删除tab\r\n      removeTabHandle (tabName) {\r\n        this.mainTabs = this.mainTabs.filter(item => item.name !== tabName)\r\n        if (this.mainTabs.length >= 1) {\r\n          // 当前选中tab被删除\r\n          if (tabName === this.mainTabsActiveName) {\r\n            var tab = this.mainTabs[this.mainTabs.length - 1]\r\n            this.$router.push({ name: tab.name, query: tab.query, params: tab.params }, () => {\r\n              this.mainTabsActiveName = this.$route.name\r\n            })\r\n          }\r\n        } else {\r\n          this.menuActiveName = ''\r\n          this.$router.push({ name: 'home' })\r\n        }\r\n      },\r\n      // tabs, 关闭当前\r\n      tabsCloseCurrentHandle () {\r\n        this.removeTabHandle(this.mainTabsActiveName)\r\n      },\r\n      // tabs, 关闭其它\r\n      tabsCloseOtherHandle () {\r\n        this.mainTabs = this.mainTabs.filter(item => item.name === this.mainTabsActiveName)\r\n      },\r\n      // tabs, 关闭全部\r\n      tabsCloseAllHandle () {\r\n        this.mainTabs = []\r\n        this.menuActiveName = ''\r\n        this.$router.push({ name: 'home' })\r\n      },\r\n      // tabs, 刷新当前\r\n      tabsRefreshCurrentHandle () {\r\n        var tab = this.$route\r\n        this.removeTabHandle(tab.name)\r\n        this.$nextTick(() => {\r\n          this.$router.push({ name: tab.name, query: tab.query, params: tab.params })\r\n        })\r\n      }\r\n    },\r\n    watch:{\r\n      systemId(){\r\n        this.tabsCloseAllHandle()\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/main/main-content.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',{staticClass:\"site-content\",class:{'site-content--tabs':_vm.$route.meta.isTab && _vm.tabSettings}},[(_vm.$route.meta.isTab && _vm.tabSettings)?_c('el-tabs',{attrs:{\"closable\":true},on:{\"tab-click\":_vm.selectedTabHandle,\"tab-remove\":_vm.removeTabHandle},model:{value:(_vm.mainTabsActiveName),callback:function ($$v) {_vm.mainTabsActiveName=$$v},expression:\"mainTabsActiveName\"}},[_c('el-dropdown',{staticClass:\"site-tabs__tools\",attrs:{\"show-timeout\":0}},[_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"}),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.tabsCloseCurrentHandle($event)}}},[_vm._v(\"关闭当前标签页\")]),_vm._v(\" \"),_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.tabsCloseOtherHandle($event)}}},[_vm._v(\"关闭其它标签页\")]),_vm._v(\" \"),_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.tabsCloseAllHandle($event)}}},[_vm._v(\"关闭全部标签页\")]),_vm._v(\" \"),_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.refresh()}}},[_vm._v(\"刷新当前标签页\")])],1)],1),_vm._v(\" \"),_vm._l((_vm.mainTabs),function(item){return _c('el-tab-pane',{key:item.name,attrs:{\"label\":item.title,\"name\":item.name}},[_c('el-card',{attrs:{\"body-style\":_vm.siteContentViewHeight}},[(item.type === 'iframe')?_c('iframe',{attrs:{\"src\":item.iframeUrl,\"width\":\"100%\",\"height\":\"100%\",\"frameborder\":\"0\",\"scrolling\":\"yes\"}}):_c('div',[(item.name === _vm.mainTabsActiveName)?_c('router-view',{attrs:{\"siteContentViewHeight\":parseInt(_vm.siteContentViewHeight.height)}}):_vm._e()],1)])],1)})],2):_c('el-card',{attrs:{\"body-style\":_vm.siteContentViewHeight}},[_c('transition',{attrs:{\"name\":\"fade-transform\",\"mode\":\"out-in\"}},[_c('router-view',{attrs:{\"siteContentViewHeight\":parseInt(_vm.siteContentViewHeight.height)}})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-0b3b3594\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/main/main-content.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./main-content.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./main-content.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0b3b3594\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./main-content.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/main/main-content.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}