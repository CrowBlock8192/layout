{"version":3,"sources":["webpack:///src/views/modules/userManagement/index.vue","webpack:///./src/views/modules/userManagement/index.vue?ff27","webpack:///./src/views/modules/userManagement/index.vue","webpack:///src/views/modules/userManagement/userUpdate.vue","webpack:///./src/views/modules/userManagement/userUpdate.vue?351e","webpack:///./src/views/modules/userManagement/userUpdate.vue","webpack:///src/components/baseComponents/OrganizationTreeSelect.vue","webpack:///./src/components/baseComponents/OrganizationTreeSelect.vue?9566","webpack:///./src/components/baseComponents/OrganizationTreeSelect.vue"],"names":["userManagement","name","components","organizationTreeSelect","OrganizationTreeSelect","userUpdate","props","data","Height","height","document","documentElement","clientHeight","userUpdateVisable","dialogTitle","search","org","code","treeData","nodeId","tableData","currentRow","isEdit","keyWord","page","pageNum","pageSize","pageSizes","total","flag","created","this","getUserData","methods","orgTreeSelectCall","returnObj","console","log","id","indexMethod","index","_this","$http","url","adornUrl","API","getSysPoweruser","method","adornData","orgId","userCode","userName","then","_ref","records","$message","error","res","msg","catch","handleSizeChange","handleCurrentChange","searchUser","addUser","updateUser","row","updateCallback","delUser","_this2","$confirm","confirmButtonText","cancelButtonText","type","deleteSysPoweruser","userId","_ref2","success","unlockUser","_this3","unlock","_ref3","resetPassword","_this4","initPassword","_ref4","selectionChangeHandle","val","tableDataSelections","moveDirection","direction","that","sort","prev","next","indexOf","reverse","forEach","item","moveUp","moveDown","Object","utils","length","saveSort","_this5","sortArr","push","orderno","userSort","stringify_default","_ref5","watch","filterText","$refs","orgTree","filter","fullHeight","timer","setTimeout","mounted","window","onresize","modules_userManagement","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","_v","attrs","defaultOptions","on","OrgTreeSelectCall","size","placeholder","clearable","model","value","callback","$$v","$set","expression","click","$event","ref","width","tooltip-effect","siteContentViewHeight","selection-change","align","fixed","label","prop","scopedSlots","_u","key","fn","scope","userType","_e","userStatus","plain","title","$index","current-page","page-sizes","page-size","layout","size-change","current-change","visible","close-on-click-modal","update:visible","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","rules","required","message","tigger","min","max","trigger","userForm","userEmail","userPhone","formLabelWidth","saveUserManage","validate","valid","userUrl","updateSysPoweruser","insertSysPoweruser","$emit","resetForm","refname","$nextTick","undefined","resetFields","userManagement_userUpdate","label-width","auto-complete","slot","selectedOptions","treeProps","children","treeList","findObject","getData","computed","refHandle","dropDownVisible","handleChange","valArray","keys_default","findId","findObjById","objectArr","i","self","getOrganizationTree","commonFun","getTreeData","err","baseComponents_OrganizationTreeSelect","expand-trigger","options","change-on-select","show-all-levels","change"],"mappings":"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","file":"static/js/11.a61f5daa74da31efb16c.js","sourcesContent":["<template>\r\n  <div class=\"userManage\">\r\n    <el-container style=\"height: 100%\">\r\n      <el-main>\r\n        <div class=\"search table-header-btn\">\r\n          <!-- 用户管理主表 -->\r\n          <div class=\"table-header-btn-l\">\r\n            <span class=\"labelName\">机构</span>\r\n            <organizationTreeSelect\r\n              :defaultOptions=\"search.org\"\r\n              @OrgTreeSelectCall=\"orgTreeSelectCall\"\r\n            ></organizationTreeSelect>\r\n            <span class=\"labelName\">登录名</span>\r\n            <el-input size=\"small\" placeholder=\"登录名\" v-model=\"search.code\" :clearable=\"true\"></el-input>\r\n            <span class=\"labelName\">姓名</span>\r\n            <el-input size=\"small\" placeholder=\"姓名\" v-model=\"search.name\" :clearable=\"true\"></el-input>\r\n            <el-button type=\"primary\" size=\"small\" @click=\"searchUser\">查询</el-button>\r\n          </div>\r\n          <div class=\"table-header-btn-r\">\r\n            <el-button type=\"primary\" size=\"small\" @click=\"addUser\">添加</el-button>\r\n            <el-button type=\"primary\" size=\"small\" @click=\"moveDirection('up')\">上移</el-button>\r\n            <el-button type=\"primary\" size=\"small\" @click=\"moveDirection('down')\">下移</el-button>\r\n            <el-button type=\"primary\" size=\"small\" @click=\"saveSort\">保存排序</el-button>\r\n          </div>\r\n        </div>\r\n        <el-table ref=\"multipleTable\" :data=\"tableData\" @selection-change=\"selectionChangeHandle\" tooltip-effect=\"dark\" style=\"width: 100%\" :height=\"siteContentViewHeight - 104 +'px'\">\r\n          <el-table-column type=\"selection\" width=\"55\" align=\"center\"></el-table-column>\r\n          <el-table-column\r\n            width=\"50px\"\r\n            fixed\r\n            type=\"index\"\r\n            :index=\"indexMethod\"\r\n            label=\"序号\"\r\n            align=\"center\"\r\n          ></el-table-column>\r\n          <el-table-column prop=\"userCode\" label=\"登录名称\"></el-table-column>\r\n          <el-table-column prop=\"userName\" label=\"用户名称\"></el-table-column>\r\n          <el-table-column prop=\"userType\" label=\"用户类型\">\r\n            <template slot-scope=\"scope\">\r\n              <div v-if=\"scope.row.userType=='2'\">部门</div>\r\n              <div v-else-if=\"scope.row.userType=='1'\">单位</div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"userPhone\" label=\"用户电话\"></el-table-column>\r\n          <el-table-column prop=\"userEmail\" label=\"用户邮箱\"></el-table-column>\r\n          <el-table-column prop=\"userStatus\" label=\"用户状态\">\r\n            <template slot-scope=\"scope\">\r\n              <el-tag size=\"medium\" type=\"danger\" v-if=\"scope.row.userStatus=='0'\">禁用</el-tag>\r\n              <el-tag size=\"medium\" type=\"success\" v-else-if=\"scope.row.userStatus=='1'\">启用</el-tag>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column fixed=\"right\" label=\"操作\" align=\"center\" width=\"350px\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button\r\n                type=\"primary\"\r\n                size=\"mini\"\r\n                plain\r\n                title=\"初始化密码\"\r\n                @click=\"resetPassword(scope.row, scope.$index)\"\r\n              >初始化密码</el-button>\r\n              <el-button\r\n                type=\"primary\"\r\n                size=\"mini\"\r\n                plain\r\n                title=\"解锁\"\r\n                @click=\"unlockUser(scope.row, scope.$index)\"\r\n              >解锁</el-button>\r\n              <el-button\r\n                size=\"mini\"\r\n                plain\r\n                type=\"primary\"\r\n                title=\"编辑\"\r\n                @click=\"updateUser(scope.row, scope.$index)\"\r\n              >编辑</el-button>\r\n              <el-button\r\n                title=\"删除\"\r\n                size=\"mini\"\r\n                plain\r\n                type=\"danger\"\r\n                @click=\"delUser(scope.row, scope.$index)\"\r\n              >删除</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <!--分页-->\r\n        <el-pagination\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"page.pageNum\"\r\n          :page-sizes=\"page.pageSizes\"\r\n          :page-size=\"page.pageSize\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"page.total\"\r\n        ></el-pagination>\r\n        <!-- 弹出框--用户添加 -->\r\n        <el-dialog\r\n          :title=\"dialogTitle\"\r\n          :visible.sync=\"userUpdateVisable\"\r\n          v-if=\"userUpdateVisable\"\r\n          :close-on-click-modal=\"false\"\r\n          width=\"40%\"\r\n        >\r\n          <user-update :currentRow=\"currentRow\" :isEdit=\"isEdit\" @updateCallback=\"updateCallback\"></user-update>\r\n        </el-dialog>\r\n      </el-main>\r\n    </el-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport organizationTreeSelect from \"@/components/baseComponents/OrganizationTreeSelect.vue\";\r\nimport userUpdate from \"./userUpdate.vue\";\r\nimport {swapItems} from '@/utils';\r\n\r\nexport default {\r\n  name: \"userManage\",\r\n  components: {\r\n    organizationTreeSelect,\r\n    userUpdate\r\n  },\r\n  props:['siteContentViewHeight'],\r\n  data() {\r\n    return {\r\n      Height: {\r\n        height: document.documentElement.clientHeight - 200 + \"px\"\r\n      },\r\n      userUpdateVisable: false,\r\n      dialogTitle: \"\",\r\n      search: {\r\n        org: \"\",\r\n        code: \"\",\r\n        name: \"\"\r\n      },\r\n      treeData: [], //机构数据\r\n      nodeId: \"\", //选中机构id\r\n      tableData: [], //列表数据\r\n      currentRow: {}, //用户当前选中行\r\n      isEdit: true, //true 编辑\r\n      keyWord: \"\",\r\n      page: {\r\n        pageNum: 1,\r\n        pageSize: 10,\r\n        pageSizes: [10, 20, 30, 40, 50],\r\n        total: 0\r\n      },\r\n      flag: false //组织机构树不要初始值\r\n    };\r\n  },\r\n  created() {\r\n    this.getUserData();\r\n  },\r\n  methods: {\r\n    //机构选择\r\n    orgTreeSelectCall(returnObj) {\r\n      console.log(returnObj)\r\n      if (returnObj) {\r\n        this.search.org = returnObj.id;\r\n      } else {\r\n        this.search.org = \"\";\r\n      }\r\n    },\r\n    indexMethod(index) {\r\n      return index + 1;\r\n    },\r\n    //用户列表分页查询\r\n    getUserData() {\r\n      let _this = this;\r\n      _this\r\n        .$http({\r\n          url: _this.$http.adornUrl(_this.API.getSysPoweruser),\r\n          method: \"post\",\r\n          data: _this.$http.adornData({\r\n            orgId: _this.search.org,\r\n            userCode: _this.search.code,\r\n            userName: _this.search.name\r\n          })\r\n        })\r\n        .then(({ data }) => {\r\n          if (data.code === 0) {\r\n            _this.tableData = data.data.records;\r\n          } else {\r\n            _this.$message.error(res.msg);\r\n          }\r\n        })\r\n        .catch(function(error) {\r\n          _this.$message.error(error);\r\n        });\r\n    },\r\n\r\n    //设置分页大小\r\n    handleSizeChange(pageSize) {\r\n      this.page.pageSize = pageSize;\r\n      this.getUserData();\r\n    },\r\n    //当前页改变\r\n    handleCurrentChange(pageNum) {\r\n      this.page.pageNum = pageNum;\r\n      this.getUserData();\r\n    },\r\n    //查询\r\n    searchUser() {\r\n      this.getUserData();\r\n    },\r\n    addUser() {\r\n      this.currentRow.orgId = this.nodeId;\r\n      this.dialogTitle = \"添加用户\";\r\n      this.userUpdateVisable = true;\r\n      this.isEdit = false;\r\n    },\r\n    updateUser(row) {\r\n      this.currentRow = row;\r\n      this.dialogTitle = \"编辑用户\";\r\n      this.userUpdateVisable = true;\r\n      this.isEdit = true;\r\n    },\r\n    //用户操作回调\r\n    updateCallback(flag) {\r\n      if (flag) {\r\n        this.getUserData();\r\n      }\r\n      this.userUpdateVisable = false;\r\n    },\r\n    //删除用户\r\n    delUser(row) {\r\n      this.$confirm(\"确定删除本条数据？\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      }).then(() => {\r\n        this.$http({\r\n          url: this.$http.adornUrl(this.API.deleteSysPoweruser),\r\n          method: \"post\",\r\n          data: this.$http.adornData({\r\n            userId: row.userId\r\n          })\r\n        })\r\n          .then(({ data }) => {\r\n            if (data.code === 0) {\r\n              this.$message.success(\"删除成功\");\r\n              this.getUserData();\r\n            } else {\r\n              this.$message.error(\"删除失败\");\r\n            }\r\n          })\r\n          .catch(function(error) {});\r\n      });\r\n    },\r\n    //用户解锁\r\n    unlockUser(row) {\r\n      this.$confirm(\"确定解锁吗？\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      }).then(() => {\r\n        this.$http({\r\n          url: this.$http.adornUrl(this.API.unlock),\r\n          method: \"post\",\r\n          data: this.$http.adornData({\r\n            userId: row.userId\r\n          })\r\n        })\r\n          .then(({ data }) => {\r\n            if (data.code === 0) {\r\n              this.$message.success(data.msg);\r\n            } else {\r\n              this.$message.error(\"重置失败\");\r\n            }\r\n          })\r\n          .catch(function(error) {});\r\n      });\r\n    },\r\n    //初始化密码\r\n    resetPassword(row) {\r\n      this.$confirm(\"确定初始化密码吗？\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      }).then(() => {\r\n        this.$http({\r\n          url: this.$http.adornUrl(this.API.initPassword),\r\n          method: \"post\",\r\n          data: this.$http.adornData({\r\n            userId: row.userId\r\n          })\r\n        })\r\n          .then(({ data }) => {\r\n            if (data.code === 0) {\r\n              this.$message.success(data.msg);\r\n            } else {\r\n              this.$message.error(\"重置失败\");\r\n            }\r\n          })\r\n          .catch(function(error) {});\r\n      });\r\n    },\r\n    selectionChangeHandle(val) {\r\n      //多选\r\n      this.tableDataSelections = val;\r\n    },\r\n    moveDirection(direction) {\r\n      //移动\r\n      var that = this,\r\n        index;\r\n      that.tableDataSelections.sort((prev, next) => {\r\n        return that.tableData.indexOf(prev) - that.tableData.indexOf(next);\r\n      });\r\n      if (direction == \"down\") that.tableDataSelections.reverse();\r\n      that.tableDataSelections.forEach(item => {\r\n        index = that.tableData.indexOf(item); //得到右侧选中值的标识坐标\r\n        if (direction == \"up\") that.moveUp(index);\r\n        else if (direction == \"down\") that.moveDown(index);\r\n      });\r\n    },\r\n    moveUp(index) {\r\n      //上移\r\n      if (index == 0) return;\r\n      this.tableData = swapItems(this.tableData, index, index - 1, \"up\");\r\n    },\r\n    moveDown(index) {\r\n      //下移\r\n      if (index == this.tableData.length - 1) return;\r\n      this.tableData = swapItems(this.tableData, index, index + 1, \"down\");\r\n    },\r\n    saveSort() {\r\n      //保存排序\r\n      var sortArr = [];\r\n      if (this.tableData.length < 0) return;\r\n      this.tableData.forEach((item, index) => {\r\n        sortArr.push({\r\n          userId: item.userId,\r\n          orderno: index + 1\r\n        });\r\n      });\r\n      this.$http({\r\n        url: this.$http.adornUrl(this.API.userSort),\r\n        method: \"post\",\r\n        data: this.$http.adornData({\r\n          data: JSON.stringify(sortArr)\r\n        })\r\n      }).then(({ data }) => {\r\n        if (data && data.code === 0) {\r\n          this.getUserData()\r\n          this.$message.success(\"操作成功\");\r\n        } else {\r\n          this.$message.error(data.msg);\r\n        }\r\n      });\r\n    }\r\n  },\r\n  watch: {\r\n    filterText(val) {\r\n      this.$refs.orgTree.filter(val);\r\n    },\r\n    fullHeight(val) {\r\n      if (!this.timer) {\r\n        this.fullHeight = val;\r\n        this.timer = true;\r\n        let that = this;\r\n        setTimeout(function() {\r\n          that.timer = false;\r\n        }, 400);\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    const that = this;\r\n    window.onresize = () => {\r\n      return (() => {\r\n        window.fullHeight = document.documentElement.clientHeight;\r\n        that.fullHeight = window.fullHeight;\r\n      })();\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.organizationTreeSelect {\r\n  display: inline-block;\r\n}\r\n.el-pagination {\r\n  /*position: fixed;*/\r\n  right: 20px;\r\n  bottom: 20px;\r\n}\r\n.search {\r\n  justify-content: space-between;\r\n  margin-top: 0px;\r\n  .labelName {\r\n    padding: 0 15px;\r\n    line-height: 33px;\r\n  }\r\n  .el-input {\r\n    width: 180px;\r\n    margin-right: 10px;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/modules/userManagement/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"userManage\"},[_c('el-container',{staticStyle:{\"height\":\"100%\"}},[_c('el-main',[_c('div',{staticClass:\"search table-header-btn\"},[_c('div',{staticClass:\"table-header-btn-l\"},[_c('span',{staticClass:\"labelName\"},[_vm._v(\"机构\")]),_vm._v(\" \"),_c('organizationTreeSelect',{attrs:{\"defaultOptions\":_vm.search.org},on:{\"OrgTreeSelectCall\":_vm.orgTreeSelectCall}}),_vm._v(\" \"),_c('span',{staticClass:\"labelName\"},[_vm._v(\"登录名\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"登录名\",\"clearable\":true},model:{value:(_vm.search.code),callback:function ($$v) {_vm.$set(_vm.search, \"code\", $$v)},expression:\"search.code\"}}),_vm._v(\" \"),_c('span',{staticClass:\"labelName\"},[_vm._v(\"姓名\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"姓名\",\"clearable\":true},model:{value:(_vm.search.name),callback:function ($$v) {_vm.$set(_vm.search, \"name\", $$v)},expression:\"search.name\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.searchUser}},[_vm._v(\"查询\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"table-header-btn-r\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.addUser}},[_vm._v(\"添加\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.moveDirection('up')}}},[_vm._v(\"上移\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.moveDirection('down')}}},[_vm._v(\"下移\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.saveSort}},[_vm._v(\"保存排序\")])],1)]),_vm._v(\" \"),_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"tooltip-effect\":\"dark\",\"height\":_vm.siteContentViewHeight - 104 +'px'},on:{\"selection-change\":_vm.selectionChangeHandle}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"50px\",\"fixed\":\"\",\"type\":\"index\",\"index\":_vm.indexMethod,\"label\":\"序号\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"userCode\",\"label\":\"登录名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"userName\",\"label\":\"用户名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"userType\",\"label\":\"用户类型\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.userType=='2')?_c('div',[_vm._v(\"部门\")]):(scope.row.userType=='1')?_c('div',[_vm._v(\"单位\")]):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"userPhone\",\"label\":\"用户电话\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"userEmail\",\"label\":\"用户邮箱\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"userStatus\",\"label\":\"用户状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.userStatus=='0')?_c('el-tag',{attrs:{\"size\":\"medium\",\"type\":\"danger\"}},[_vm._v(\"禁用\")]):(scope.row.userStatus=='1')?_c('el-tag',{attrs:{\"size\":\"medium\",\"type\":\"success\"}},[_vm._v(\"启用\")]):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"align\":\"center\",\"width\":\"350px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"plain\":\"\",\"title\":\"初始化密码\"},on:{\"click\":function($event){return _vm.resetPassword(scope.row, scope.$index)}}},[_vm._v(\"初始化密码\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"plain\":\"\",\"title\":\"解锁\"},on:{\"click\":function($event){return _vm.unlockUser(scope.row, scope.$index)}}},[_vm._v(\"解锁\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"plain\":\"\",\"type\":\"primary\",\"title\":\"编辑\"},on:{\"click\":function($event){return _vm.updateUser(scope.row, scope.$index)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"title\":\"删除\",\"size\":\"mini\",\"plain\":\"\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.delUser(scope.row, scope.$index)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"current-page\":_vm.page.pageNum,\"page-sizes\":_vm.page.pageSizes,\"page-size\":_vm.page.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.page.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}}),_vm._v(\" \"),(_vm.userUpdateVisable)?_c('el-dialog',{attrs:{\"title\":_vm.dialogTitle,\"visible\":_vm.userUpdateVisable,\"close-on-click-modal\":false,\"width\":\"40%\"},on:{\"update:visible\":function($event){_vm.userUpdateVisable=$event}}},[_c('user-update',{attrs:{\"currentRow\":_vm.currentRow,\"isEdit\":_vm.isEdit},on:{\"updateCallback\":_vm.updateCallback}})],1):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-20c94d43\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/modules/userManagement/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-20c94d43\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-20c94d43\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-20c94d43\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/modules/userManagement/index.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"user-update\">\r\n    <el-form :model=\"userForm\" :rules=\"rules\" ref=\"userForm\" size=\"small\">\r\n      <el-form-item label=\"机构选择\" :label-width=\"formLabelWidth\" prop=\" orgId\">\r\n         <organizationTreeSelect :defaultOptions=\"userForm.orgId\"  @OrgTreeSelectCall=\"orgTreeSelectCall\"></organizationTreeSelect>\r\n      </el-form-item>\r\n      <el-form-item label=\"登录名称\" :label-width=\"formLabelWidth\" prop=\"userCode\">\r\n        <el-input v-model=\"userForm.userCode\" auto-complete=\"off\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"用户名称\" :label-width=\"formLabelWidth\" prop=\"userName\">\r\n        <el-input v-model=\"userForm.userName\" auto-complete=\"off\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"用户类型\" prop=\"userType\" :label-width=\"formLabelWidth\">\r\n        <el-select v-model=\"userForm.userType\" style=\"width:100%\">\r\n          <el-option label=\"部门\" value=\"2\"></el-option>\r\n          <el-option label=\"单位\" value=\"1\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"用户状态\" :label-width=\"formLabelWidth\" prop=\"userStatus\">\r\n        <el-radio-group v-model=\"userForm.userStatus\">\r\n          <el-radio label=\"1\">启用</el-radio>\r\n          <el-radio label=\"0\">禁用</el-radio>\r\n        </el-radio-group>\r\n      </el-form-item>\r\n      <el-form-item label=\"用户邮箱\" :label-width=\"formLabelWidth\" prop=\"userEmail\">\r\n        <el-input v-model=\"userForm.userEmail\" auto-complete=\"off\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"用户电话\" :label-width=\"formLabelWidth\" prop=\"userPhone\">\r\n        <el-input v-model=\"userForm.userPhone\" auto-complete=\"off\"></el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n    <div slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button type=\"primary\" size=\"small\" @click=\"saveUserManage(userForm)\">保存</el-button>\r\n      <el-button size=\"small\" type=\"danger\" @click=\"resetForm('userForm')\">重置</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport organizationTreeSelect from '@/components/baseComponents/OrganizationTreeSelect.vue';\r\nexport default {\r\n  name: \"userUpdate\",\r\n  props: [\"isEdit\", \"currentRow\"],\r\n  components: {\r\n    organizationTreeSelect\r\n  },\r\n  data() {\r\n    return {\r\n      rules: {\r\n        //表单校验\r\n        userCode: [{ required: true, message: \"请输入登录名\", tigger: \"change\" },\r\n         { min: 3, max:20, message: '长度在 3 到 20个字符', trigger: 'blur' }],\r\n        userName: [{ required: true, message: \"请输入用户名\", tigger: \"change\" },\r\n         { min: 3, max:20, message: '长度在 3 到 20个字符', trigger: 'blur' }],\r\n\r\n      },\r\n      userForm: {\r\n        orgId: \"\",\r\n        userId: \"\",\r\n        userCode: \"\",\r\n        userName: \"\",\r\n        userStatus: \"\",\r\n        userEmail: \"\",\r\n        userPhone: \"\",\r\n        userType: \"\",\r\n      },\r\n      formLabelWidth: \"110px\",\r\n      flag: false, //组织机构树不要初始值\r\n    };\r\n  },\r\n  created() {\r\n    if (this.isEdit) {\r\n      this.userForm.orgId = this.currentRow.orgId\r\n      this.userForm.userId = this.currentRow.userId;\r\n      this.userForm.userCode = this.currentRow.userCode;\r\n      this.userForm.userName = this.currentRow.userName;\r\n      this.userForm.userStatus = this.currentRow.userStatus;\r\n      this.userForm.userType = this.currentRow.userType;\r\n      this.userForm.userEmail = this.currentRow.userEmail;\r\n      this.userForm.userPhone = this.currentRow.userPhone;\r\n    }\r\n  },\r\n  methods: {\r\n    //机构选择\r\n    orgTreeSelectCall(returnObj){\r\n        if(returnObj){\r\n          this.userForm.orgId = returnObj.id;\r\n        }else{\r\n         this.userForm.orgId = \"\";\r\n        }\r\n\t  },\r\n    saveUserManage(userForm) {\r\n      this.$refs[\"userForm\"].validate(valid => {\r\n        if (valid) {\r\n          //用户添加保存\r\n          let _this = this;\r\n          let userUrl =\"\";\r\n          if (_this.currentRow.userId) {\r\n            userUrl = _this.API.updateSysPoweruser;\r\n          } else {\r\n            userUrl = _this.API.insertSysPoweruser;\r\n          }\r\n          _this\r\n            .$http({\r\n              url: _this.$http.adornUrl(userUrl),\r\n              method: \"post\",\r\n              data: _this.$http.adornData(userForm),\r\n            })\r\n            .then(({ data }) => {\r\n              if (data.code === 0) {\r\n                _this.$message.success(\"操作成功\");\r\n                this.$emit(\"updateCallback\", true);\r\n              } else {\r\n                _this.$message.error(\"操作失败，请重新尝试\");\r\n              }\r\n            })\r\n            .catch(function(error) {});\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    //重置表单\r\n    resetForm(refname) {\r\n      //重置\r\n      this.$nextTick(() => {\r\n        if (this.$refs[refname] !== undefined) {\r\n          this.$refs[refname].resetFields();\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.user-update{\r\n  >>> .el-cascader{\r\n    width:100%;\r\n}\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/modules/userManagement/userUpdate.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-update\"},[_c('el-form',{ref:\"userForm\",attrs:{\"model\":_vm.userForm,\"rules\":_vm.rules,\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"机构选择\",\"label-width\":_vm.formLabelWidth,\"prop\":\" orgId\"}},[_c('organizationTreeSelect',{attrs:{\"defaultOptions\":_vm.userForm.orgId},on:{\"OrgTreeSelectCall\":_vm.orgTreeSelectCall}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"登录名称\",\"label-width\":_vm.formLabelWidth,\"prop\":\"userCode\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.userForm.userCode),callback:function ($$v) {_vm.$set(_vm.userForm, \"userCode\", $$v)},expression:\"userForm.userCode\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"用户名称\",\"label-width\":_vm.formLabelWidth,\"prop\":\"userName\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.userForm.userName),callback:function ($$v) {_vm.$set(_vm.userForm, \"userName\", $$v)},expression:\"userForm.userName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"用户类型\",\"prop\":\"userType\",\"label-width\":_vm.formLabelWidth}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},model:{value:(_vm.userForm.userType),callback:function ($$v) {_vm.$set(_vm.userForm, \"userType\", $$v)},expression:\"userForm.userType\"}},[_c('el-option',{attrs:{\"label\":\"部门\",\"value\":\"2\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"单位\",\"value\":\"1\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"用户状态\",\"label-width\":_vm.formLabelWidth,\"prop\":\"userStatus\"}},[_c('el-radio-group',{model:{value:(_vm.userForm.userStatus),callback:function ($$v) {_vm.$set(_vm.userForm, \"userStatus\", $$v)},expression:\"userForm.userStatus\"}},[_c('el-radio',{attrs:{\"label\":\"1\"}},[_vm._v(\"启用\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"0\"}},[_vm._v(\"禁用\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"用户邮箱\",\"label-width\":_vm.formLabelWidth,\"prop\":\"userEmail\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.userForm.userEmail),callback:function ($$v) {_vm.$set(_vm.userForm, \"userEmail\", $$v)},expression:\"userForm.userEmail\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"用户电话\",\"label-width\":_vm.formLabelWidth,\"prop\":\"userPhone\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.userForm.userPhone),callback:function ($$v) {_vm.$set(_vm.userForm, \"userPhone\", $$v)},expression:\"userForm.userPhone\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.saveUserManage(_vm.userForm)}}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.resetForm('userForm')}}},[_vm._v(\"重置\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-ce24c1d8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/modules/userManagement/userUpdate.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ce24c1d8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./userUpdate.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./userUpdate.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./userUpdate.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ce24c1d8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./userUpdate.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ce24c1d8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/modules/userManagement/userUpdate.vue\n// module id = null\n// module chunks = ","<template>\r\n\t<div class=\"organizationTreeSelect\">\r\n\t\t<el-cascader\r\n\t\t\tplaceholder=\"请选择机构\"\r\n\t\t\texpand-trigger=\"hover\"\r\n\t\t\t:options=\"treeList\"\r\n\t\t\t:change-on-select=\"true\"\r\n\t\t\tv-model=\"selectedOptions\"\r\n\t\t\t:props=treeProps\r\n\t\t\t:clearable=\"true\"\r\n\t\t\t:show-all-levels=\"false\"\r\n    \t\t@change=\"handleChange\"\r\n\t\t\tref =\"refHandle\"\r\n      size=\"small\"\r\n\t\t\t>\r\n\t\t</el-cascader>\r\n\t</div>\r\n</template>\r\n<script>\r\n\timport bus from '../../common/bus';\r\n\texport default {\r\n\t\tname: 'OrganizationTreeSelect',//职能机构树形下拉框\r\n\t\tprops:[\r\n\t\t\t'defaultOptions',//选中项 id: defaultOptions.length>0 选中传输的id项; defaultOptions=“” 不选;defaultOptions 不传该字段  默认选中数据的第一项\r\n\t\t],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tselectedOptions:[],//选中值--必须是完整路径eg:['父节点id'] 或 ['父节点id','子节点id']\r\n\t\t\t\ttreeProps:{\r\n\t\t\t\t\tvalue:'id',\r\n\t\t\t\t\tlabel:'name',\r\n\t\t\t\t\tchildren:'children'\r\n\t\t\t\t},\r\n\t\t\t\ttreeList: [],\r\n\t\t\t\tfindObject: {},\r\n\t\t\t};\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\tthis.getData();\r\n\t\t},\r\n\t\tcomputed: {\r\n\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tfindObject() {\r\n\t\t\t\tif (this.$refs.refHandle) {\r\n\t\t\t\t\tthis.$refs.refHandle.dropDownVisible = false; //监听值发生变化就关闭它\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t/**\r\n\t\t\t * 监听change事件\r\n\t\t\t * 回调父组件中OrgTreeSelectCall事件，传回选中的value值\r\n\t\t\t * @param {Array} valArray 选中的值\r\n\t\t\t */\r\n\t\t\thandleChange(valArray) {\r\n        if( Object.keys(this.selectedOptions).length !== 0){\r\n          let returnId ='';\r\n          let findId ='';\r\n          if(valArray  && valArray.length > 0){\r\n            findId = valArray[valArray.length-1];\r\n          }\r\n          this.findObjById(this.treeList,findId);\r\n          this.$emit('OrgTreeSelectCall',this.findObject);\r\n        }else{\r\n          this.$emit('OrgTreeSelectCall',\"\");\r\n        }\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 按照id查找数据\r\n\t\t\t * @param {Number} id 选中项的id\r\n\t\t\t * @return {Object} 返回查找到的数据\r\n\t\t\t */\r\n\t\t\tfindObjById(objectArr, id){\r\n\t\t\t\tfor(let i =0;i<objectArr.length;i++){\r\n\t\t\t\t\tif(id == objectArr[i].id){\r\n\t\t\t\t\t\tthis.findObject = objectArr[i];\r\n\t\t\t\t\t\tconsole.log(this.findObject)\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif( objectArr[i].children != undefined  && objectArr[i].children.length != 0 ){\r\n\t\t\t\t\t\tthis.findObjById(objectArr[i].children, id);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n            /**\r\n             * 获取列表数据\r\n             */\r\n            getData() {\r\n            \tvar self = this;\r\n                self.$http({\r\n                    url: self.$http.adornUrl(self.API.getOrganizationTree),\r\n                    method: 'post',\r\n                    data:self.$http.adornData()\r\n                 }).then(({data}) => {\r\n                    if(data.code ==\"0\"){\r\n                    \tself.treeList = self.commonFun.getTreeData(data.data);\r\n\t\t\t\t\t\tlet returnObj = {};\r\n                    \tif(self.defaultOptions){\r\n\t\t\t\t\t\t\t//self.selectedOptions = self.commonFun.createArrIdAndReverse(self.treeList,\"id\");\r\n\t\t\t\t\t\t\tself.selectedOptions = self.defaultOptions;\r\n\t\t\t\t\t\t\treturnObj =this.findObjById(self.treeList,self.defaultOptions);\r\n                    \t}else if(self.defaultOptions==\"\"){\r\n                    \t\treturnObj = {};\r\n                    \t}else{\r\n                    \t\tself.selectedOptions.push(self.treeList[0].id);\r\n                    \t\treturnObj = self.treeList[0];\r\n\t\t\t\t\t\t}\r\n                    \tthis.$emit('OrgTreeSelectCall',returnObj);\r\n                    }else{\r\n\t\t\t          \tself.$message({\r\n\t\t\t\t            type: 'error',\r\n\t\t\t\t            message: '获取区域树形下拉框数据失败，请刷新重试！'\r\n\t\t\t          \t});\r\n                    }\r\n                }).catch((err) => {\r\n                \tconsole.log(\"获取区域树形下拉框数据=\"+err);\r\n                \tself.$message({\r\n\t\t\t            type: 'error',\r\n\t\t\t            message: '请求异常，请检查网络！'\r\n\t\t\t        });\r\n                })\r\n            }\r\n\t\t},\r\n\t\tmounted() {\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n<style lang=\"scss\" scoped >\r\n  // .el-popper /deep/ .el-cascader-panel .el-cascader-menu .el-scrollbar_wrap{\r\n  //   margin: 0;\r\n  //   ul{padding: 0 10px;margin: 0;}\r\n  // }\r\n    .el-popper .el-cascader-panel .el-cascader-menu .el-scrollbar_wrap ul li{\r\n           font-size: 14px;\r\n           padding: 0 20px;\r\n           position: relative;\r\n           white-space: nowrap;\r\n           overflow: hidden;\r\n           text-overflow: ellipsis;\r\n           color: #fff;\r\n           height: 34px;\r\n           line-height: 34px;\r\n           -webkit-box-sizing:border-box;\r\n           box-sizing: border-box;\r\n           cursor: pointer;\r\n        }\r\n     .el-popper .el-cascader-panel .el-cascader-menu .el-scrollbar_wrap ul li .el-icon-arrow-rightf{\r\n           position: absolute;\r\n           top: 50%;\r\n           left: 85%;\r\n           transform: translate(-50%, -50%);\r\n      }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/baseComponents/OrganizationTreeSelect.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"organizationTreeSelect\"},[_c('el-cascader',{ref:\"refHandle\",attrs:{\"placeholder\":\"请选择机构\",\"expand-trigger\":\"hover\",\"options\":_vm.treeList,\"change-on-select\":true,\"props\":_vm.treeProps,\"clearable\":true,\"show-all-levels\":false,\"size\":\"small\"},on:{\"change\":_vm.handleChange},model:{value:(_vm.selectedOptions),callback:function ($$v) {_vm.selectedOptions=$$v},expression:\"selectedOptions\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-f776adea\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/baseComponents/OrganizationTreeSelect.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f776adea\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./OrganizationTreeSelect.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./OrganizationTreeSelect.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./OrganizationTreeSelect.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f776adea\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./OrganizationTreeSelect.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f776adea\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/baseComponents/OrganizationTreeSelect.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}