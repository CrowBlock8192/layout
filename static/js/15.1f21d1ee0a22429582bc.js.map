{"version":3,"sources":["webpack:///src/views/modules/userManagement/userUpdate.vue","webpack:///./src/views/modules/userManagement/userUpdate.vue?351e","webpack:///./src/views/modules/userManagement/userUpdate.vue","webpack:///src/components/baseComponents/OrganizationTreeSelect.vue","webpack:///./src/components/baseComponents/OrganizationTreeSelect.vue?9566","webpack:///./src/components/baseComponents/OrganizationTreeSelect.vue"],"names":["userUpdate","name","props","components","organizationTreeSelect","data","rules","userCode","required","message","tigger","min","max","trigger","userName","userForm","orgId","userId","userStatus","userEmail","userPhone","userType","formLabelWidth","flag","created","this","isEdit","currentRow","methods","orgTreeSelectCall","returnObj","id","saveUserManage","_this2","$refs","validate","valid","_this","userUrl","API","updateSysPoweruser","insertSysPoweruser","$http","url","adornUrl","method","adornData","then","_ref","code","$message","success","$emit","error","catch","resetForm","refname","_this3","$nextTick","undefined","resetFields","userManagement_userUpdate","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","size","label","label-width","prop","defaultOptions","on","OrgTreeSelectCall","_v","auto-complete","value","callback","$$v","$set","expression","staticStyle","width","slot","type","click","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","OrganizationTreeSelect","selectedOptions","treeProps","children","treeList","findObject","getData","computed","watch","refHandle","dropDownVisible","handleChange","valArray","keys_default","length","findId","findObjById","objectArr","i","console","log","self","getOrganizationTree","commonFun","getTreeData","push","err","mounted","baseComponents_OrganizationTreeSelect","placeholder","expand-trigger","options","change-on-select","clearable","show-all-levels","change"],"mappings":"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","file":"static/js/15.1f21d1ee0a22429582bc.js","sourcesContent":["<template>\r\n  <div class=\"user-update\">\r\n    <el-form :model=\"userForm\" :rules=\"rules\" ref=\"userForm\" size=\"small\">\r\n      <el-form-item label=\"机构选择\" :label-width=\"formLabelWidth\" prop=\" orgId\">\r\n         <organizationTreeSelect :defaultOptions=\"userForm.orgId\"  @OrgTreeSelectCall=\"orgTreeSelectCall\"></organizationTreeSelect>\r\n      </el-form-item>\r\n      <el-form-item label=\"登录名称\" :label-width=\"formLabelWidth\" prop=\"userCode\">\r\n        <el-input v-model=\"userForm.userCode\" auto-complete=\"off\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"用户名称\" :label-width=\"formLabelWidth\" prop=\"userName\">\r\n        <el-input v-model=\"userForm.userName\" auto-complete=\"off\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"用户类型\" prop=\"userType\" :label-width=\"formLabelWidth\">\r\n        <el-select v-model=\"userForm.userType\" style=\"width:100%\">\r\n          <el-option label=\"部门\" value=\"2\"></el-option>\r\n          <el-option label=\"单位\" value=\"1\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"用户状态\" :label-width=\"formLabelWidth\" prop=\"userStatus\">\r\n        <el-radio-group v-model=\"userForm.userStatus\">\r\n          <el-radio label=\"1\">启用</el-radio>\r\n          <el-radio label=\"0\">禁用</el-radio>\r\n        </el-radio-group>\r\n      </el-form-item>\r\n      <el-form-item label=\"用户邮箱\" :label-width=\"formLabelWidth\" prop=\"userEmail\">\r\n        <el-input v-model=\"userForm.userEmail\" auto-complete=\"off\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"用户电话\" :label-width=\"formLabelWidth\" prop=\"userPhone\">\r\n        <el-input v-model=\"userForm.userPhone\" auto-complete=\"off\"></el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n    <div slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button type=\"primary\" size=\"small\" @click=\"saveUserManage(userForm)\">保存</el-button>\r\n      <el-button size=\"small\" type=\"danger\" @click=\"resetForm('userForm')\">重置</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport organizationTreeSelect from '@/components/baseComponents/OrganizationTreeSelect.vue';\r\nexport default {\r\n  name: \"userUpdate\",\r\n  props: [\"isEdit\", \"currentRow\"],\r\n  components: {\r\n    organizationTreeSelect\r\n  },\r\n  data() {\r\n    return {\r\n      rules: {\r\n        //表单校验\r\n        userCode: [{ required: true, message: \"请输入登录名\", tigger: \"change\" },\r\n         { min: 3, max:20, message: '长度在 3 到 20个字符', trigger: 'blur' }],\r\n        userName: [{ required: true, message: \"请输入用户名\", tigger: \"change\" },\r\n         { min: 3, max:20, message: '长度在 3 到 20个字符', trigger: 'blur' }],\r\n\r\n      },\r\n      userForm: {\r\n        orgId: \"\",\r\n        userId: \"\",\r\n        userCode: \"\",\r\n        userName: \"\",\r\n        userStatus: \"\",\r\n        userEmail: \"\",\r\n        userPhone: \"\",\r\n        userType: \"\",\r\n      },\r\n      formLabelWidth: \"110px\",\r\n      flag: false, //组织机构树不要初始值\r\n    };\r\n  },\r\n  created() {\r\n    if (this.isEdit) {\r\n      this.userForm.orgId = this.currentRow.orgId\r\n      this.userForm.userId = this.currentRow.userId;\r\n      this.userForm.userCode = this.currentRow.userCode;\r\n      this.userForm.userName = this.currentRow.userName;\r\n      this.userForm.userStatus = this.currentRow.userStatus;\r\n      this.userForm.userType = this.currentRow.userType;\r\n      this.userForm.userEmail = this.currentRow.userEmail;\r\n      this.userForm.userPhone = this.currentRow.userPhone;\r\n    }\r\n  },\r\n  methods: {\r\n    //机构选择\r\n    orgTreeSelectCall(returnObj){\r\n        if(returnObj){\r\n          this.userForm.orgId = returnObj.id;\r\n        }else{\r\n         this.userForm.orgId = \"\";\r\n        }\r\n\t  },\r\n    saveUserManage(userForm) {\r\n      this.$refs[\"userForm\"].validate(valid => {\r\n        if (valid) {\r\n          //用户添加保存\r\n          let _this = this;\r\n          let userUrl =\"\";\r\n          if (_this.currentRow.userId) {\r\n            userUrl = _this.API.updateSysPoweruser;\r\n          } else {\r\n            userUrl = _this.API.insertSysPoweruser;\r\n          }\r\n          _this\r\n            .$http({\r\n              url: _this.$http.adornUrl(userUrl),\r\n              method: \"post\",\r\n              data: _this.$http.adornData(userForm),\r\n            })\r\n            .then(({ data }) => {\r\n              if (data.code === 0) {\r\n                _this.$message.success(\"操作成功\");\r\n                this.$emit(\"updateCallback\", true);\r\n              } else {\r\n                _this.$message.error(\"操作失败，请重新尝试\");\r\n              }\r\n            })\r\n            .catch(function(error) {});\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    //重置表单\r\n    resetForm(refname) {\r\n      //重置\r\n      this.$nextTick(() => {\r\n        if (this.$refs[refname] !== undefined) {\r\n          this.$refs[refname].resetFields();\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.user-update{\r\n  >>> .el-cascader{\r\n    width:100%;\r\n}\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/modules/userManagement/userUpdate.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-update\"},[_c('el-form',{ref:\"userForm\",attrs:{\"model\":_vm.userForm,\"rules\":_vm.rules,\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"机构选择\",\"label-width\":_vm.formLabelWidth,\"prop\":\" orgId\"}},[_c('organizationTreeSelect',{attrs:{\"defaultOptions\":_vm.userForm.orgId},on:{\"OrgTreeSelectCall\":_vm.orgTreeSelectCall}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"登录名称\",\"label-width\":_vm.formLabelWidth,\"prop\":\"userCode\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.userForm.userCode),callback:function ($$v) {_vm.$set(_vm.userForm, \"userCode\", $$v)},expression:\"userForm.userCode\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"用户名称\",\"label-width\":_vm.formLabelWidth,\"prop\":\"userName\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.userForm.userName),callback:function ($$v) {_vm.$set(_vm.userForm, \"userName\", $$v)},expression:\"userForm.userName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"用户类型\",\"prop\":\"userType\",\"label-width\":_vm.formLabelWidth}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},model:{value:(_vm.userForm.userType),callback:function ($$v) {_vm.$set(_vm.userForm, \"userType\", $$v)},expression:\"userForm.userType\"}},[_c('el-option',{attrs:{\"label\":\"部门\",\"value\":\"2\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"单位\",\"value\":\"1\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"用户状态\",\"label-width\":_vm.formLabelWidth,\"prop\":\"userStatus\"}},[_c('el-radio-group',{model:{value:(_vm.userForm.userStatus),callback:function ($$v) {_vm.$set(_vm.userForm, \"userStatus\", $$v)},expression:\"userForm.userStatus\"}},[_c('el-radio',{attrs:{\"label\":\"1\"}},[_vm._v(\"启用\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"0\"}},[_vm._v(\"禁用\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"用户邮箱\",\"label-width\":_vm.formLabelWidth,\"prop\":\"userEmail\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.userForm.userEmail),callback:function ($$v) {_vm.$set(_vm.userForm, \"userEmail\", $$v)},expression:\"userForm.userEmail\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"用户电话\",\"label-width\":_vm.formLabelWidth,\"prop\":\"userPhone\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.userForm.userPhone),callback:function ($$v) {_vm.$set(_vm.userForm, \"userPhone\", $$v)},expression:\"userForm.userPhone\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.saveUserManage(_vm.userForm)}}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.resetForm('userForm')}}},[_vm._v(\"重置\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-ce24c1d8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/modules/userManagement/userUpdate.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ce24c1d8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./userUpdate.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./userUpdate.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./userUpdate.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ce24c1d8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./userUpdate.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ce24c1d8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/modules/userManagement/userUpdate.vue\n// module id = null\n// module chunks = ","<template>\r\n\t<div class=\"organizationTreeSelect\">\r\n\t\t<el-cascader\r\n\t\t\tplaceholder=\"请选择机构\"\r\n\t\t\texpand-trigger=\"hover\"\r\n\t\t\t:options=\"treeList\"\r\n\t\t\t:change-on-select=\"true\"\r\n\t\t\tv-model=\"selectedOptions\"\r\n\t\t\t:props=treeProps\r\n\t\t\t:clearable=\"true\"\r\n\t\t\t:show-all-levels=\"false\"\r\n    \t\t@change=\"handleChange\"\r\n\t\t\tref =\"refHandle\"\r\n      size=\"small\"\r\n\t\t\t>\r\n\t\t</el-cascader>\r\n\t</div>\r\n</template>\r\n<script>\r\n\timport bus from '../../common/bus';\r\n\texport default {\r\n\t\tname: 'OrganizationTreeSelect',//职能机构树形下拉框\r\n\t\tprops:[\r\n\t\t\t'defaultOptions',//选中项 id: defaultOptions.length>0 选中传输的id项; defaultOptions=“” 不选;defaultOptions 不传该字段  默认选中数据的第一项\r\n\t\t],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tselectedOptions:[],//选中值--必须是完整路径eg:['父节点id'] 或 ['父节点id','子节点id']\r\n\t\t\t\ttreeProps:{\r\n\t\t\t\t\tvalue:'id',\r\n\t\t\t\t\tlabel:'name',\r\n\t\t\t\t\tchildren:'children'\r\n\t\t\t\t},\r\n\t\t\t\ttreeList: [],\r\n\t\t\t\tfindObject: {},\r\n\t\t\t};\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\tthis.getData();\r\n\t\t},\r\n\t\tcomputed: {\r\n\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tfindObject() {\r\n\t\t\t\tif (this.$refs.refHandle) {\r\n\t\t\t\t\tthis.$refs.refHandle.dropDownVisible = false; //监听值发生变化就关闭它\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t/**\r\n\t\t\t * 监听change事件\r\n\t\t\t * 回调父组件中OrgTreeSelectCall事件，传回选中的value值\r\n\t\t\t * @param {Array} valArray 选中的值\r\n\t\t\t */\r\n\t\t\thandleChange(valArray) {\r\n        if( Object.keys(this.selectedOptions).length !== 0){\r\n          let returnId ='';\r\n          let findId ='';\r\n          if(valArray  && valArray.length > 0){\r\n            findId = valArray[valArray.length-1];\r\n          }\r\n          this.findObjById(this.treeList,findId);\r\n          this.$emit('OrgTreeSelectCall',this.findObject);\r\n        }else{\r\n          this.$emit('OrgTreeSelectCall',\"\");\r\n        }\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 按照id查找数据\r\n\t\t\t * @param {Number} id 选中项的id\r\n\t\t\t * @return {Object} 返回查找到的数据\r\n\t\t\t */\r\n\t\t\tfindObjById(objectArr, id){\r\n\t\t\t\tfor(let i =0;i<objectArr.length;i++){\r\n\t\t\t\t\tif(id == objectArr[i].id){\r\n\t\t\t\t\t\tthis.findObject = objectArr[i];\r\n\t\t\t\t\t\tconsole.log(this.findObject)\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif( objectArr[i].children != undefined  && objectArr[i].children.length != 0 ){\r\n\t\t\t\t\t\tthis.findObjById(objectArr[i].children, id);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n            /**\r\n             * 获取列表数据\r\n             */\r\n            getData() {\r\n            \tvar self = this;\r\n                self.$http({\r\n                    url: self.$http.adornUrl(self.API.getOrganizationTree),\r\n                    method: 'post',\r\n                    data:self.$http.adornData()\r\n                 }).then(({data}) => {\r\n                    if(data.code ==\"0\"){\r\n                    \tself.treeList = self.commonFun.getTreeData(data.data);\r\n\t\t\t\t\t\tlet returnObj = {};\r\n                    \tif(self.defaultOptions){\r\n\t\t\t\t\t\t\t//self.selectedOptions = self.commonFun.createArrIdAndReverse(self.treeList,\"id\");\r\n\t\t\t\t\t\t\tself.selectedOptions = self.defaultOptions;\r\n\t\t\t\t\t\t\treturnObj =this.findObjById(self.treeList,self.defaultOptions);\r\n                    \t}else if(self.defaultOptions==\"\"){\r\n                    \t\treturnObj = {};\r\n                    \t}else{\r\n                    \t\tself.selectedOptions.push(self.treeList[0].id);\r\n                    \t\treturnObj = self.treeList[0];\r\n\t\t\t\t\t\t}\r\n                    \tthis.$emit('OrgTreeSelectCall',returnObj);\r\n                    }else{\r\n\t\t\t          \tself.$message({\r\n\t\t\t\t            type: 'error',\r\n\t\t\t\t            message: '获取区域树形下拉框数据失败，请刷新重试！'\r\n\t\t\t          \t});\r\n                    }\r\n                }).catch((err) => {\r\n                \tconsole.log(\"获取区域树形下拉框数据=\"+err);\r\n                \tself.$message({\r\n\t\t\t            type: 'error',\r\n\t\t\t            message: '请求异常，请检查网络！'\r\n\t\t\t        });\r\n                })\r\n            }\r\n\t\t},\r\n\t\tmounted() {\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n<style lang=\"scss\" scoped >\r\n  // .el-popper /deep/ .el-cascader-panel .el-cascader-menu .el-scrollbar_wrap{\r\n  //   margin: 0;\r\n  //   ul{padding: 0 10px;margin: 0;}\r\n  // }\r\n    .el-popper .el-cascader-panel .el-cascader-menu .el-scrollbar_wrap ul li{\r\n           font-size: 14px;\r\n           padding: 0 20px;\r\n           position: relative;\r\n           white-space: nowrap;\r\n           overflow: hidden;\r\n           text-overflow: ellipsis;\r\n           color: #fff;\r\n           height: 34px;\r\n           line-height: 34px;\r\n           -webkit-box-sizing:border-box;\r\n           box-sizing: border-box;\r\n           cursor: pointer;\r\n        }\r\n     .el-popper .el-cascader-panel .el-cascader-menu .el-scrollbar_wrap ul li .el-icon-arrow-rightf{\r\n           position: absolute;\r\n           top: 50%;\r\n           left: 85%;\r\n           transform: translate(-50%, -50%);\r\n      }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/baseComponents/OrganizationTreeSelect.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"organizationTreeSelect\"},[_c('el-cascader',{ref:\"refHandle\",attrs:{\"placeholder\":\"请选择机构\",\"expand-trigger\":\"hover\",\"options\":_vm.treeList,\"change-on-select\":true,\"props\":_vm.treeProps,\"clearable\":true,\"show-all-levels\":false,\"size\":\"small\"},on:{\"change\":_vm.handleChange},model:{value:(_vm.selectedOptions),callback:function ($$v) {_vm.selectedOptions=$$v},expression:\"selectedOptions\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-f776adea\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/baseComponents/OrganizationTreeSelect.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f776adea\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./OrganizationTreeSelect.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./OrganizationTreeSelect.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./OrganizationTreeSelect.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f776adea\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./OrganizationTreeSelect.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f776adea\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/baseComponents/OrganizationTreeSelect.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}