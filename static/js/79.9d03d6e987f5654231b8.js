webpackJsonprmsh([79],{aLNn:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("3cXf"),i=a.n(n),l=a("0xDb"),o={props:["checkedData"],data:function(){return{Height:{height:document.documentElement.clientHeight-200+"px"},tableData:[],tableDataSelections:[]}},created:function(){this.getTitleData()},methods:{getTitleData:function(){var t=this;this.$http({url:this.$http.adornUrl(this.API.getMingceListMingce),method:"post",data:this.$http.adornData({mingceType:3,mingcePid:this.checkedData.id||0})}).then(function(e){var a=e.data;0==a.code?t.tableData=a.data:t.$message.error(a.msg)})},indexMethod:function(t){return t+1},selectionChangeHandle:function(t){this.tableDataSelections=t},moveDirection:function(t){if(0!==this.tableDataSelections.length){var e,a=this;a.tableDataSelections.sort(function(t,e){return a.tableData.indexOf(t)-a.tableData.indexOf(e)}),"down"==t&&a.tableDataSelections.reverse(),a.tableDataSelections.forEach(function(n){e=a.tableData.indexOf(n),"up"==t?a.moveUp(e):"down"==t&&a.moveDown(e)})}else this.$confirm("请选择一条数据！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0})},moveUp:function(t){0!=t&&(this.tableData=Object(l.d)(this.tableData,t,t-1,"up"))},moveDown:function(t){t!=this.tableData.length-1&&(this.tableData=Object(l.d)(this.tableData,t,t+1,"down"))},saveSort:function(){var t=this,e=[];this.tableData.length<0||(this.tableData.forEach(function(t,a){e.push({id:t.mingceId,orderno:a+1})}),this.$http({url:this.$http.adornUrl(this.API.personMingceSortMingce),method:"post",data:this.$http.adornData({data:i()(e)})}).then(function(e){var a=e.data;a&&0===a.code?(t.getTitleData(),t.$message.success("排序成功")):t.$message.error(a.msg)}))}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-container",{staticStyle:{height:"100%"}},[a("el-main",[a("div",{staticClass:"search table-header-btn"},[a("div",{staticClass:"table-header-btn-l"}),t._v(" "),a("div",{staticClass:"table-header-btn-r"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.moveDirection("up")}}},[t._v("上移")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.moveDirection("down")}}},[t._v("下移")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.saveSort}},[t._v("保存排序")])],1)]),t._v(" "),a("el-table",{ref:"multipleTable",attrs:{data:t.tableData},on:{"selection-change":t.selectionChangeHandle}},[a("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{width:"50",fixed:"",type:"index",index:t.indexMethod,label:"序号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"mingceName",label:"名册名称"}})],1)],1)],1)],1)},staticRenderFns:[]};var r=a("C7Lr")(o,s,!1,function(t){a("bx49")},"data-v-0d773b55",null);e.default=r.exports},bx49:function(t,e){}});
//# sourceMappingURL=79.9d03d6e987f5654231b8.js.map