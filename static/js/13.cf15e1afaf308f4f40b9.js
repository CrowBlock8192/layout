webpackJsonprmsh([13,36,81],{"4wck":function(t,e){},ZrnB:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={components:{subordinateSort:a("3bMD").default},data:function(){return{form:{},inforKeyRadio:"1",inforKey:[{id:"1",name:"法人机构"},{id:"2",name:"内设机构"},{id:"3",name:"机构分组"}],isNoEdit:!0,subordinateSortVisible:!1,orgData:{id:"",name:""},addSubordinate:!1}},methods:{init:function(t){var e=this;this.orgData.id=t.id,this.orgData.name=t.name,this.isNoEdit=!0,this.addSubordinate=!1,this.$http({url:this.$http.adornUrl(this.API.getOrgDetailsB01),method:"post",data:this.$http.adornData({b0100:t.id})}).then(function(t){var a=t.data;a&&0===a.code?(e.form=a.data,e.inforKeyRadio=e.form.b0194):(e.form={},e.inforKeyRadio="1",e.$message.error(a.msg))})},addSubordinateHandle:function(){this.addSubordinate=!0,this.form={},this.inforKeyRadio="1",this.isNoEdit=!1},saveHandle:function(){var t=this;this.form.b0100=this.addSubordinate?null:this.orgData.id,this.form.b0100p=this.addSubordinate?this.orgData.id:this.form.b0100p,this.form.b0194=this.inforKeyRadio,this.$http({url:this.$http.adornUrl(this.API[this.addSubordinate?"saveOrgB01":"updateOrgB01"]),method:"post",data:this.$http.adornData(this.form)}).then(function(e){var a=e.data;a&&0===a.code?t.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){t.addSubordinate&&t.$emit("refreshDataList")}}):t.$message.error(a.msg)})},deleteHandle:function(){var t=this;this.$confirm("确定删除机构,是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http({url:t.$http.adornUrl(t.API.deleteOrgB01),method:"post",data:t.$http.adornData({b0100:t.orgData.id})}).then(function(e){var a=e.data;a&&0===a.code?t.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){t.$emit("refreshDataList")}}):t.$message.error(a.msg)})}).catch(function(){})},subordinateSortHandle:function(){var t=this;this.subordinateSortVisible=!0,this.$nextTick(function(){t.$refs.subordinateSort.init(t.orgData.id)})},refreshDataList:function(){this.$emit("refreshDataList")}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"organization-information"},[t.orgData.id?a("div",{staticClass:"organization-information-title"},[a("span"),t._v(" "),a("p",[t._v(t._s(t.orgData.name))])]):t._e(),t._v(" "),t.orgData.id?a("el-form",{staticClass:"float-right",attrs:{inline:!0}},[t.isNoEdit?a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.isNoEdit=!1}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.deleteHandle}},[t._v("删除")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.addSubordinateHandle}},[t._v("添加下级机构")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.subordinateSortHandle}},[t._v("下级机构排序")])],1):a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.saveHandle}},[t._v("保存")])],1)],1):t._e(),t._v(" "),a("div",{staticClass:"clearfix"}),t._v(" "),a("el-form",{staticClass:"organization-information-form",attrs:{"label-width":"200px","label-position":"left",disabled:t.isNoEdit}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"机构标识",prop:"b0194"}},[a("el-radio-group",{model:{value:t.inforKeyRadio,callback:function(e){t.inforKeyRadio=e},expression:"inforKeyRadio"}},t._l(t.inforKey,function(e){return a("el-radio",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.name))])}),1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"机构全称",prop:"b0101"}},[a("el-input",{model:{value:t.form.b0101,callback:function(e){t.$set(t.form,"b0101",e)},expression:"form.b0101"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"机构简称",prop:"b0104"}},[a("el-input",{model:{value:t.form.b0104,callback:function(e){t.$set(t.form,"b0104",e)},expression:"form.b0104"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"机构编码",prop:"b0111"}},[a("el-input",{model:{value:t.form.b0111,callback:function(e){t.$set(t.form,"b0111",e)},expression:"form.b0111"}})],1)],1)],1),t._v(" "),1==t.inforKeyRadio?a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"所在政区",prop:"b0117"}},[a("el-input",{model:{value:t.form.b0117,callback:function(e){t.$set(t.form,"b0117",e)},expression:"form.b0117"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"隶属关系",prop:"b0124"}},[a("el-input",{model:{value:t.form.b0124,callback:function(e){t.$set(t.form,"b0124",e)},expression:"form.b0124"}})],1)],1)],1):t._e(),t._v(" "),a("el-row",[1==t.inforKeyRadio?a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"机构类别",prop:"b0131"}},[a("el-input",{model:{value:t.form.b0131,callback:function(e){t.$set(t.form,"b0131",e)},expression:"form.b0131"}})],1)],1):t._e(),t._v(" "),3!=t.inforKeyRadio?a("el-col",{attrs:{span:1==t.inforKeyRadio?12:24}},[a("el-form-item",{attrs:{label:"机构级别",prop:"b0127"}},[a("el-input",{model:{value:t.form.b0127,callback:function(e){t.$set(t.form,"b0127",e)},expression:"form.b0127"}})],1)],1):t._e()],1),t._v(" "),1==t.inforKeyRadio?a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"机构成立批准日期",prop:"b0164"}},[a("el-date-picker",{attrs:{type:"date",format:"yyyy.MM.dd","value-format":"yyyy-MM-dd"},model:{value:t.form.b0164,callback:function(e){t.$set(t.form,"b0164",e)},expression:"form.b0164"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"机构成立批准文号",prop:"b0167"}},[a("el-input",{model:{value:t.form.b0167,callback:function(e){t.$set(t.form,"b0167",e)},expression:"form.b0167"}})],1)],1)],1):t._e(),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注",prop:"b0197"}},[a("el-input",{model:{value:t.form.b0197,callback:function(e){t.$set(t.form,"b0197",e)},expression:"form.b0197"}})],1)],1)],1)],1),t._v(" "),t.subordinateSortVisible?a("subordinate-sort",{ref:"subordinateSort",on:{refreshDataList:t.refreshDataList}}):t._e()],1)},staticRenderFns:[]};var i=a("C7Lr")(o,r,!1,function(t){a("i34x")},"data-v-bbe88940",null);e.default=i.exports},cXSB:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("HMPb"),r=a("ZrnB"),i=a("oEm4"),l={props:["siteContentViewHeight"],components:{orgTree:o.a,organizationInfor:r.default,compilingInfor:i.default},data:function(){return{treeData:[],filterText:"",activeName:"first",activeOrg:{}}},methods:{getDataTree:function(t){var e=this;this.$http({url:this.$http.adornUrl(this.API.getOrgTreeB01),method:"post",data:this.$http.adornData()}).then(function(a){var o=a.data;o&&0===o.code?o.data.length>0&&(e.treeData=o.data,void 0==t&&e.orgTreeClick(e.treeData[0])):(e.$message.error(o.msg),e.treeData=[])})},orgTreeClick:function(t){this.isActiveInit(this.activeName,t),this.activeOrg=t},handleClick:function(t){this.isActiveInit(t.name,this.activeOrg)},isActiveInit:function(t,e){var a=this;this.$nextTick(function(){"first"==t?a.$refs.organizationInfor.init(e):"second"==t&&a.$refs.compilingInfor.init(e)})}},created:function(){this.getDataTree()}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticClass:"permission-assignment"},[a("el-aside",{staticClass:"permission-assignment-aside",attrs:{width:"20%"}},[a("el-input",{style:{"margin-bottom":"10px"},attrs:{placeholder:"机构查询",size:"small"},model:{value:t.filterText,callback:function(e){t.filterText=e},expression:"filterText"}}),t._v(" "),a("div",{style:{height:t.siteContentViewHeight-52+"px",overflow:"auto"}},[a("org-tree",{ref:"tree",attrs:{treeData:t.treeData,filterText:t.filterText},on:{"node-click":t.orgTreeClick}})],1)],1),t._v(" "),a("el-main",[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"机构信息",name:"first"}},[a("organization-infor",{ref:"organizationInfor",on:{refreshDataList:function(e){return t.getDataTree(1)}}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"编制信息",name:"second"}},[a("compiling-infor",{ref:"compilingInfor"})],1)],1)],1)],1)},staticRenderFns:[]};var s=a("C7Lr")(l,n,!1,function(t){a("4wck")},"data-v-4fe32ff2",null);e.default=s.exports},i34x:function(t,e){},lqCP:function(t,e){},oEm4:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"organization-information"},[t.orgData.id?a("div",{staticClass:"organization-information-title"},[a("span"),t._v(" "),a("p",[t._v(t._s(t.orgData.name))])]):t._e(),t._v(" "),a("el-form",{staticClass:"float-right",attrs:{inline:!0}},[t.isNoEdit?a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.isNoEdit=!1}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.deleteHandle}},[t._v("删除")])],1):a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.saveHandle}},[t._v("保存")])],1)],1),t._v(" "),a("div",{staticClass:"clearfix"}),t._v(" "),a("el-form",{staticClass:"organization-information-form",attrs:{"label-width":"200px","label-position":"left",disabled:t.isNoEdit}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"编制批准日期",prop:"b0201"}},[a("el-date-picker",{attrs:{type:"date",format:"yyyy.MM.dd","value-format":"yyyy-MM-dd"},model:{value:t.form.b0201,callback:function(e){t.$set(t.form,"b0201",e)},expression:"form.b0201"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"编制批准文号",prop:"b0204"}},[a("el-input",{model:{value:t.form.b0204,callback:function(e){t.$set(t.form,"b0204",e)},expression:"form.b0204"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"编制批准机关名称",prop:"b0207A"}},[a("el-input",{model:{value:t.form.b0207A,callback:function(e){t.$set(t.form,"b0207A",e)},expression:"form.b0207A"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"编制批准机关代码",prop:"b0207B"}},[a("el-input",{model:{value:t.form.b0207B,callback:function(e){t.$set(t.form,"b0207B",e)},expression:"form.b0207B"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"内设机构数",prop:"b0211"}},[a("el-input",{model:{value:t.form.b0211,callback:function(e){t.$set(t.form,"b0211",e)},expression:"form.b0211"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"内设机构名称",prop:"b0214"}},[a("el-input",{model:{value:t.form.b0214,callback:function(e){t.$set(t.form,"b0214",e)},expression:"form.b0214"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"内设机构级别",prop:"b0217"}},[a("el-input",{model:{value:t.form.b0217,callback:function(e){t.$set(t.form,"b0217",e)},expression:"form.b0217"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"编制性质",prop:"b0221"}},[a("el-input",{model:{value:t.form.b0221,callback:function(e){t.$set(t.form,"b0221",e)},expression:"form.b0221"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"批准编制总数",prop:"b0224"}},[a("el-input",{model:{value:t.form.b0224,callback:function(e){t.$set(t.form,"b0224",e)},expression:"form.b0224"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"行政编制数",prop:"b0227"}},[a("el-input",{model:{value:t.form.b0227,callback:function(e){t.$set(t.form,"b0227",e)},expression:"form.b0227"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"事业编制数",prop:"b0231"}},[a("el-input",{model:{value:t.form.b0231,callback:function(e){t.$set(t.form,"b0231",e)},expression:"form.b0231"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"企业编制数",prop:"b0234"}},[a("el-input",{model:{value:t.form.b0234,callback:function(e){t.$set(t.form,"b0234",e)},expression:"form.b0234"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"社团编制数",prop:"b0237"}},[a("el-input",{model:{value:t.form.b0237,callback:function(e){t.$set(t.form,"b0237",e)},expression:"form.b0237"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"单位领导职数",prop:"b0241"}},[a("el-input",{model:{value:t.form.b0241,callback:function(e){t.$set(t.form,"b0241",e)},expression:"form.b0241"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"单位领导同级非职务数",prop:"b0244"}},[a("el-input",{model:{value:t.form.b0244,callback:function(e){t.$set(t.form,"b0244",e)},expression:"form.b0244"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"内设第一级机构领导职数",prop:"b0247"}},[a("el-input",{model:{value:t.form.b0247,callback:function(e){t.$set(t.form,"b0247",e)},expression:"form.b0247"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"内设第一级机构领导非职数",prop:"b0251"}},[a("el-input",{model:{value:t.form.b0251,callback:function(e){t.$set(t.form,"b0251",e)},expression:"form.b0251"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"业务人员编制数",prop:"b0254"}},[a("el-input",{model:{value:t.form.b0254,callback:function(e){t.$set(t.form,"b0254",e)},expression:"form.b0254"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工勤人员编制数",prop:"b0257"}},[a("el-input",{model:{value:t.form.b0257,callback:function(e){t.$set(t.form,"b0257",e)},expression:"form.b0257"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"使用全额拨款人数",prop:"b0261"}},[a("el-input",{model:{value:t.form.b0261,callback:function(e){t.$set(t.form,"b0261",e)},expression:"form.b0261"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"使用差额拨款人数",prop:"b0264"}},[a("el-input",{model:{value:t.form.b0264,callback:function(e){t.$set(t.form,"b0264",e)},expression:"form.b0264"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"使用自筹资金人数",prop:"b0267"}},[a("el-input",{model:{value:t.form.b0267,callback:function(e){t.$set(t.form,"b0267",e)},expression:"form.b0267"}})],1)],1)],1)],1)],1)},staticRenderFns:[]};var r=a("C7Lr")({data:function(){return{isNoEdit:!0,form:this.newData(),orgData:{id:"",name:"",b0200:""}}},methods:{newData:function(){return{b0201:"",b0204:"",b0207A:"",b0207B:"",b0211:"",b0214:"",b0217:"",b0221:"",b0224:"",b0227:"",b0231:"",b0234:"",b0237:"",b0241:"",b0244:"",b0247:"",b0251:"",b0254:"",b0257:"",b0261:"",b0264:"",b0267:""}},init:function(t){var e=this;this.orgData.id=t.id,this.orgData.name=t.name,this.isNoEdit=!0,this.$http({url:this.$http.adornUrl(this.API.queryOrganizationB02),method:"post",data:this.$http.adornData({b0100:t.id})}).then(function(t){var a=t.data;e.form=e.newData(),e.orgData.b0200="",a&&0===a.code?null!=a.data&&(e.form=a.data,e.orgData.b0200=e.form.b0200):e.$message.error(a.msg)})},saveHandle:function(){var t=this;this.form.b0100=this.orgData.id,this.form.b0200=this.orgData.b0200,this.$http({url:this.$http.adornUrl(this.API.updateOrganizationB02),method:"post",data:this.$http.adornData(this.form)}).then(function(e){var a=e.data;a&&0===a.code?t.$message.success("操作成功"):t.$message.error(a.msg)})},deleteHandle:function(){var t=this;this.$confirm("确定删除机构,是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){""!=t.orgData.b0200?(t.form=t.newData(),t.saveHandle()):t.$message.error("删除失败!没有数据可删除")}).catch(function(){})}}},o,!1,function(t){a("lqCP")},"data-v-0946ada2",null);e.default=r.exports}});
//# sourceMappingURL=13.cf15e1afaf308f4f40b9.js.map