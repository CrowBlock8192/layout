webpackJsonprmsh([50],{EvJA:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={components:{orgTree:r("HMPb").a},props:["siteContentViewHeight"],data:function(){return{mingceId:"",checked:!0,treeData:[],treeCheckBox:!0,defaultChecked:[]}},methods:{getData:function(e){var t=this;this.mingceId=e.id,this.$http({url:this.$http.adornUrl(this.API.getMingceB01TreeB01),method:"post",data:this.$http.adornData({mingceId:e.id})}).then(function(e){var r=e.data;r&&0===r.code?(t.treeData=r.data,t.defaultChecked=t.getIsCheckCurrent(r.data)):(t.$message.error(r.msg),t.treeData=[],t.defaultChecked=[])})},getCurrentKey:function(){var e=this;this.$http({url:this.$http.adornUrl(this.API.savePersonMingceB01),method:"post",data:this.$http.adornData({mingceId:this.mingceId,b0100:this.$refs.tree.getCheckedKeys().join(",")})}).then(function(t){var r=t.data;r&&0===r.code?e.$message.success("操作成功"):e.$message.error(r.msg)})},getIsCheckCurrent:function(e){var t=[];if(e){return function e(r){return r.forEach(function(r){r.isCheck&&t.push(r.id),r.children&&r.children.length>0&&e(r.children)}),t}(e)}}}},c={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"float-right"},[r("el-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("关联子节点")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.getCurrentKey}},[e._v("保存")])],1),e._v(" "),r("div",{staticClass:"clearfix"}),e._v(" "),r("div",{style:{height:e.siteContentViewHeight-93+"px",overflow:"auto"}},[r("org-tree",{ref:"tree",attrs:{treeData:e.treeData,checkbox:e.treeCheckBox,checkStrictly:!e.checked,defaultChecked:e.defaultChecked}})],1)])},staticRenderFns:[]};var n=r("C7Lr")(a,c,!1,function(e){r("fmlY")},"data-v-5e0d9b68",null);t.default=n.exports},fmlY:function(e,t){}});
//# sourceMappingURL=50.06b38ae4fe3e3ba50594.js.map