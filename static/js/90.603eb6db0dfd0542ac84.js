webpackJsonprmsh([90],{uTqb:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("E4LH"),i={inject:["refresh"],data:function(){return{}},computed:{documentClientHeight:{get:function(){return this.$store.state.common.documentClientHeight}},tabSettings:{get:function(){return this.$store.state.common.tabSettings}},menuActiveName:{get:function(){return this.$store.state.common.menuActiveName},set:function(t){this.$store.commit("common/updateMenuActiveName",t)}},mainTabs:{get:function(){return this.$store.state.common.mainTabs},set:function(t){this.$store.commit("common/updateMainTabs",t)}},mainTabsActiveName:{get:function(){return this.$store.state.common.mainTabsActiveName},set:function(t){this.$store.commit("common/updateMainTabsActiveName",t)}},siteContentViewHeight:function(){var t=this.documentClientHeight-70-2;return this.$route.meta.isTab&&this.tabSettings?(t-=55,Object(a.a)(this.$route.meta.iframeUrl),{height:t+"px"}):{height:t+"px"}},systemId:{get:function(){return this.$store.state.common.systemId}}},methods:{selectedTabHandle:function(t){(t=this.mainTabs.filter(function(e){return e.name===t.name})).length>=1&&this.$router.push({name:t[0].name,query:t[0].query,params:t[0].params})},removeTabHandle:function(t){var e=this;if(this.mainTabs=this.mainTabs.filter(function(e){return e.name!==t}),this.mainTabs.length>=1){if(t===this.mainTabsActiveName){var n=this.mainTabs[this.mainTabs.length-1];this.$router.push({name:n.name,query:n.query,params:n.params},function(){e.mainTabsActiveName=e.$route.name})}}else this.menuActiveName="",this.$router.push({name:"home"})},tabsCloseCurrentHandle:function(){this.removeTabHandle(this.mainTabsActiveName)},tabsCloseOtherHandle:function(){var t=this;this.mainTabs=this.mainTabs.filter(function(e){return e.name===t.mainTabsActiveName})},tabsCloseAllHandle:function(){this.mainTabs=[],this.menuActiveName="",this.$router.push({name:"home"})},tabsRefreshCurrentHandle:function(){var t=this,e=this.$route;this.removeTabHandle(e.name),this.$nextTick(function(){t.$router.push({name:e.name,query:e.query,params:e.params})})}},watch:{systemId:function(){this.tabsCloseAllHandle()}}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"site-content",class:{"site-content--tabs":t.$route.meta.isTab&&t.tabSettings}},[t.$route.meta.isTab&&t.tabSettings?n("el-tabs",{attrs:{closable:!0},on:{"tab-click":t.selectedTabHandle,"tab-remove":t.removeTabHandle},model:{value:t.mainTabsActiveName,callback:function(e){t.mainTabsActiveName=e},expression:"mainTabsActiveName"}},[n("el-dropdown",{staticClass:"site-tabs__tools",attrs:{"show-timeout":0}},[n("i",{staticClass:"el-icon-arrow-down el-icon--right"}),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{nativeOn:{click:function(e){return t.tabsCloseCurrentHandle(e)}}},[t._v("关闭当前标签页")]),t._v(" "),n("el-dropdown-item",{nativeOn:{click:function(e){return t.tabsCloseOtherHandle(e)}}},[t._v("关闭其它标签页")]),t._v(" "),n("el-dropdown-item",{nativeOn:{click:function(e){return t.tabsCloseAllHandle(e)}}},[t._v("关闭全部标签页")]),t._v(" "),n("el-dropdown-item",{nativeOn:{click:function(e){return t.refresh()}}},[t._v("刷新当前标签页")])],1)],1),t._v(" "),t._l(t.mainTabs,function(e){return n("el-tab-pane",{key:e.name,attrs:{label:e.title,name:e.name}},[n("el-card",{attrs:{"body-style":t.siteContentViewHeight}},["iframe"===e.type?n("iframe",{attrs:{src:e.iframeUrl,width:"100%",height:"100%",frameborder:"0",scrolling:"yes"}}):n("div",[e.name===t.mainTabsActiveName?n("router-view",{attrs:{siteContentViewHeight:parseInt(t.siteContentViewHeight.height)}}):t._e()],1)])],1)})],2):n("el-card",{attrs:{"body-style":t.siteContentViewHeight}},[n("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[n("router-view",{attrs:{siteContentViewHeight:parseInt(t.siteContentViewHeight.height)}})],1)],1)],1)},staticRenderFns:[]},r=n("C7Lr")(i,s,!1,null,null,null);e.default=r.exports}});
//# sourceMappingURL=90.603eb6db0dfd0542ac84.js.map