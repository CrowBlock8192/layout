webpackJsonprmsh([2,50,57,60,70,82,83],{"289N":function(t,e){},"7aUQ":function(t,e){},EvJA:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={components:{orgTree:a("HMPb").a},props:["siteContentViewHeight"],data:function(){return{mingceId:"",checked:!0,treeData:[],treeCheckBox:!0,defaultChecked:[]}},methods:{getData:function(t){var e=this;this.mingceId=t.id,this.$http({url:this.$http.adornUrl(this.API.getMingceB01TreeB01),method:"post",data:this.$http.adornData({mingceId:t.id})}).then(function(t){var a=t.data;a&&0===a.code?(e.treeData=a.data,e.defaultChecked=e.getIsCheckCurrent(a.data)):(e.$message.error(a.msg),e.treeData=[],e.defaultChecked=[])})},getCurrentKey:function(){var t=this;this.$http({url:this.$http.adornUrl(this.API.savePersonMingceB01),method:"post",data:this.$http.adornData({mingceId:this.mingceId,b0100:this.$refs.tree.getCheckedKeys().join(",")})}).then(function(e){var a=e.data;a&&0===a.code?t.$message.success("操作成功"):t.$message.error(a.msg)})},getIsCheckCurrent:function(t){var e=[];if(t){return function t(a){return a.forEach(function(a){a.isCheck&&e.push(a.id),a.children&&a.children.length>0&&t(a.children)}),e}(t)}}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"float-right"},[a("el-checkbox",{model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("关联子节点")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.getCurrentKey}},[t._v("保存")])],1),t._v(" "),a("div",{staticClass:"clearfix"}),t._v(" "),a("div",{style:{height:t.siteContentViewHeight-93+"px",overflow:"auto"}},[a("org-tree",{ref:"tree",attrs:{treeData:t.treeData,checkbox:t.treeCheckBox,checkStrictly:!t.checked,defaultChecked:t.defaultChecked}})],1)])},staticRenderFns:[]};var s=a("C7Lr")(i,n,!1,function(t){a("fmlY")},"data-v-5e0d9b68",null);e.default=s.exports},OotQ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("3cXf"),n=a.n(i),s=a("0xDb"),r={props:["checkedData"],data:function(){return{Height:{height:document.documentElement.clientHeight-200+"px"},tableData:[],tableDataSelections:[]}},created:function(){this.getTitleData()},methods:{getTitleData:function(){var t=this;this.$http({url:this.$http.adornUrl(this.API.getMingceListMingce),method:"post",data:this.$http.adornData({mingceType:"1,2",mingcePid:this.checkedData.id||0})}).then(function(e){var a=e.data;0==a.code?t.tableData=a.data:t.$message.error(a.msg)})},indexMethod:function(t){return t+1},selectionChangeHandle:function(t){this.tableDataSelections=t},moveDirection:function(t){if(0!==this.tableDataSelections.length){var e,a=this;a.tableDataSelections.sort(function(t,e){return a.tableData.indexOf(t)-a.tableData.indexOf(e)}),"down"==t&&a.tableDataSelections.reverse(),a.tableDataSelections.forEach(function(i){e=a.tableData.indexOf(i),"up"==t?a.moveUp(e):"down"==t&&a.moveDown(e)})}else this.$confirm("请选择一条数据！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0})},moveUp:function(t){0!=t&&(this.tableData=Object(s.d)(this.tableData,t,t-1,"up"))},moveDown:function(t){t!=this.tableData.length-1&&(this.tableData=Object(s.d)(this.tableData,t,t+1,"down"))},saveSort:function(){var t=this,e=[];this.tableData.length<0||(this.tableData.forEach(function(t,a){e.push({id:t.mingceId,orderno:a+1})}),this.$http({url:this.$http.adornUrl(this.API.personMingceSortMingce),method:"post",data:this.$http.adornData({data:n()(e)})}).then(function(e){var a=e.data;a&&0===a.code?(t.getTitleData(),t.$message.success("排序成功")):t.$message.error(a.msg)}))}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-container",{staticStyle:{height:"100%"}},[a("el-main",[a("div",{staticClass:"search table-header-btn"},[a("div",{staticClass:"table-header-btn-l"}),t._v(" "),a("div",{staticClass:"table-header-btn-r"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.moveDirection("up")}}},[t._v("上移")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.moveDirection("down")}}},[t._v("下移")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.saveSort}},[t._v("保存排序")])],1)]),t._v(" "),a("el-table",{ref:"multipleTable",attrs:{data:t.tableData},on:{"selection-change":t.selectionChangeHandle}},[a("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{width:"50",fixed:"",type:"index",index:t.indexMethod,label:"序号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"mingceName",label:"名册名称"}})],1)],1)],1)],1)},staticRenderFns:[]};var c=a("C7Lr")(r,o,!1,function(t){a("du9U")},"data-v-2e3f328b",null);e.default=c.exports},bJ6x:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"addForm",attrs:{rules:t.rules,model:t.dataForm,"label-width":"150px"}},[a("el-row",[a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"名册名称",prop:"mingceName"}},[a("el-input",{attrs:{type:"text",maxlength:"15",placeholder:"请输入名册名称"},model:{value:t.dataForm.mingceName,callback:function(e){t.$set(t.dataForm,"mingceName",e)},expression:"dataForm.mingceName"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"继承主名册条件",prop:"mingceIsinherit"}},[a("el-radio-group",{model:{value:t.dataForm.mingceIsinherit,callback:function(e){t.$set(t.dataForm,"mingceIsinherit",e)},expression:"dataForm.mingceIsinherit "}},[a("el-radio",{attrs:{label:1}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:0}},[t._v("否")])],1)],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"备注",prop:"mingceDesc"}},[a("el-input",{attrs:{type:"textarea",rows:5},model:{value:t.dataForm.mingceDesc,callback:function(e){t.$set(t.dataForm,"mingceDesc",e)},expression:"dataForm.mingceDesc"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.saveArea()}}},[t._v("保存")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.cancle()}}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]};var n=a("C7Lr")({props:["checkedData","edikGetDataList","isEdit"],data:function(){return{rules:{mingceName:[{required:!0,message:"请输入名册名称",trigger:"change"}]},dataForm:{mingceName:"",mingceIsinherit:1,mingceDesc:"",mingceType:2,mingceId:""}}},created:function(){this.setFormData()},methods:{setFormData:function(){!1===this.isEdit?(this.dataForm.mingceName=this.checkedData.name,this.dataForm.mingceIsinherit=this.checkedData.mingceIsinherit,this.dataForm.mingceDesc=this.checkedData.mingceDesc,this.dataForm.mingceId=this.checkedData.id):this.dataForm.mingcePid=this.checkedData.id},saveArea:function(){var t=this;this.$refs.addForm.validate(function(e){e&&t.$http({url:t.$http.adornUrl(t.API.saveOrUpdateMingce),method:"post",data:t.$http.adornData(t.dataForm)}).then(function(e){var a=e.data;0==a.code?(t.$message({message:"成功",type:"success"}),t.$emit("addback",!0)):t.$message.error(a.msg)})})},cancle:function(){this.$emit("addback",!1)}}},i,!1,function(t){a("7aUQ")},null,null);e.default=n.exports},cIsG:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("3cXf"),n=a.n(i),s=a("0xDb"),r={components:{sortSetDialog:a("ig9L").default},props:["siteContentViewHeight"],data:function(){return{tableData:[],sortSetDialogVisable:!1,orderType:[{value:"1",label:"升序"},{value:"2",label:"降序"}],treeData:[]}},created:function(){},methods:{getDataList:function(t){var e=this;this.treeData=t,this.$http({url:this.$http.adornUrl(this.API.getMingceConditionsOrder),method:"post",data:this.$http.adornData({mingceId:t.id})}).then(function(t){var a=t.data;a&&0===a.code?e.tableData=a.data:e.$message.error(a.msg)})},addListClick:function(){this.checkedData=this.treeData,this.sortSetDialogVisable=!0},closeDialog:function(){this.getDataList(this.checkedData)},selectionChangeHandle:function(t){this.tableDataSelections=t},moveDirection:function(t){if(0!==this.tableDataSelections.length){var e,a=this;a.tableDataSelections.sort(function(t,e){return a.tableData.indexOf(t)-a.tableData.indexOf(e)}),"down"==t&&a.tableDataSelections.reverse(),a.tableDataSelections.forEach(function(i){e=a.tableData.indexOf(i),"up"==t?a.moveUp(e):"down"==t&&a.moveDown(e)})}else this.$confirm("请选择一条数据！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0})},moveUp:function(t){0!=t&&(this.tableData=Object(s.d)(this.tableData,t,t-1,"up"))},moveDown:function(t){t!=this.tableData.length-1&&(this.tableData=Object(s.d)(this.tableData,t,t+1,"down"))},saveMetaSort:function(){var t=this,e=[];this.tableData.length<0||(this.tableData.forEach(function(t,a){e.push({orderId:t.orderId,orderno:a+1,mingceId:t.mingceId,orderType:t.orderType,colCode:t.colCode,tabCode:t.tabCode})}),this.$http({url:this.$http.adornUrl(this.API.updateMingceOrder),method:"post",data:this.$http.adornData({data:n()(e)})}).then(function(e){var a=e.data;a&&0===a.code?t.$message.success("操作成功"):t.$message.error(a.msg)}))}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("el-main",[a("div",{staticClass:"table-header-btn"},[a("div",{staticClass:"table-header-btn-l"}),t._v(" "),a("div",{staticClass:"table-header-btn-r"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.moveDirection("up")}}},[t._v("上移")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.moveDirection("down")}}},[t._v("下移")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.saveMetaSort}},[t._v("保存")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.addListClick()}}},[t._v("选择列")])],1)]),t._v(" "),a("el-table",{ref:"multipleTable",attrs:{data:t.tableData,height:t.siteContentViewHeight-93+"px"},on:{"selection-change":t.selectionChangeHandle}},[a("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"colCode",label:"列名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"orderType",label:"排序方式"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.row.orderType,callback:function(a){t.$set(e.row,"orderType",a)},expression:"scope.row.orderType"}},t._l(t.orderType,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.label}})}),1)]}}])})],1)],1),t._v(" "),t.sortSetDialogVisable?a("el-dialog",{attrs:{title:"选择列设置",visible:t.sortSetDialogVisable,width:"50%"},on:{"update:visible":function(e){t.sortSetDialogVisable=e},close:t.closeDialog}},[a("sortSetDialog",{attrs:{checkedData:t.checkedData}})],1):t._e()],1)},staticRenderFns:[]};var c=a("C7Lr")(r,o,!1,function(t){a("289N")},"data-v-06b284dd",null);e.default=c.exports},du9U:function(t,e){},ehYT:function(t,e){},fmlY:function(t,e){},ikmP:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("HMPb"),n=a("kd13"),s=a("bJ6x"),r=a("OotQ"),o=a("EvJA"),c=a("yueR"),l=a("cIsG"),d={name:"register-management-index",components:{metadataTree:i.a,addOneName:n.default,addTwoName:s.default,sortName:r.default,organizationSet:o.default,cadreCategorySet:c.default,sortSet:l.default},props:["siteContentViewHeight"],data:function(){return{Height:{height:document.documentElement.clientHeight-135+"px"},tableData:[],treeData:[],isEdit:"",addOneVisable:!1,addTwoVisable:!1,sortNameVisable:!1,currentRow:"",isParent:"",isBtn:!1,activeName:"tabFirst",isType:""}},created:function(){this.getDataTree()},methods:{getDataTree:function(){var t=this;this.$http({url:this.$http.adornUrl(this.API.getMingceTreeListMingce),method:"post",data:this.$http.adornData({mingceType:"1,2"})}).then(function(e){var a=e.data;a&&0===a.code?t.treeData=a.data:(t.$message.error(a.msg),t.treeData=[])})},orgTreeClick:function(t){this.currentRow=t,this.isParent=t.isParent,this.isType=t.type,!1===this.isParent?this.isBtn=!0:!0===this.isParent&&(this.isBtn=!0),this.isActiveInit(this.activeName,t)},handleClick:function(t){this.isActiveInit(t.name,this.currentRow)},isActiveInit:function(t,e){var a=this;this.$nextTick(function(){"tabFirst"==t?a.$refs.organizationSet.getData(e):"tabTwo"==t?a.$refs.cadreCategorySet.getDataList(e):"tabLast"==t&&a.$refs.sortSet.getDataList(e)})},addClick:function(){""===this.isParent&&(this.checkedData=this.currentRow,this.addOneVisable=!0,this.title="名册添加"),"1"!==this.isType?("2"===this.isType&&(this.checkedData=this.currentRow,this.addTwoVisable=!0,this.title="子名册添加"),this.isEdit=!0):this.$confirm("机构名册类型下不允许添加！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0})},edikClick:function(){null!==this.currentRow&&""!==this.currentRow?(!0===this.isParent&&(this.checkedData=this.currentRow,this.addOneVisable=!0,this.title="名册编辑"),!1===this.isParent&&(this.checkedData=this.currentRow,this.addTwoVisable=!0,this.title="子名册编辑"),this.isEdit=!1):this.$confirm("请选择一条数据！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0})},sortClick:function(){this.checkedData=this.currentRow,this.sortNameVisable=!0},deleteClick:function(){var t=this;null!==this.currentRow&&""!==this.currentRow?this.$confirm("确定删除选中记录?","操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http({url:t.$http.adornUrl(t.API.deleteMingce),method:"post",data:t.$http.adornData({mingceId:t.currentRow.id})}).then(function(e){var a=e.data;0===a.code?(t.getDataTree(),t.$message.success("删除成功")):t.$message.error(a.msg)})}).catch(function(){}):this.$confirm("请选择一条数据！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0})},closeDialog:function(){this.getDataTree()},addback:function(t){this.addOneVisable=!1,this.addTwoVisable=!1,t&&this.getDataTree()}}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"metaData"},[a("el-container",{staticStyle:{height:"100%"}},[a("el-aside",{attrs:{width:"274px"}},[a("div",{staticClass:"table-header-btn"},[a("div",{staticClass:"table-header-btn-l"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.addClick()}}},[t._v("添加")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.edikClick()}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(e){return t.deleteClick()}}},[t._v("删除")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.sortClick()}}},[t._v("排序")])],1)]),t._v(" "),a("div",{style:{height:t.siteContentViewHeight-62+"px",overflow:"auto"}},[a("metadataTree",{ref:"moduleTree",attrs:{treeData:t.treeData},on:{"node-click":t.orgTreeClick}})],1)]),t._v(" "),a("el-main",{directives:[{name:"show",rawName:"v-show",value:t.isBtn,expression:"isBtn"}]},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{key:"tabFirst",attrs:{label:"机构设置",name:"tabFirst"}},[a("organization-set",{ref:"organizationSet",attrs:{siteContentViewHeight:t.siteContentViewHeight}})],1),t._v(" "),a("el-tab-pane",{key:"tabTwo",attrs:{label:"干部类别设置",name:"tabTwo"}},[a("cadre-category-set",{ref:"cadreCategorySet",attrs:{siteContentViewHeight:t.siteContentViewHeight}})],1),t._v(" "),a("el-tab-pane",{key:"tabLast",attrs:{label:"排序设置",name:"tabLast"}},[a("sort-set",{ref:"sortSet",attrs:{siteContentViewHeight:t.siteContentViewHeight},on:{addback:t.addback}})],1)],1)],1)],1),t._v(" "),t.addOneVisable?a("el-dialog",{attrs:{title:t.title,width:"50%",visible:t.addOneVisable,"close-on-click-modal":!1,"modal-append-to-body":!1,"append-to-body":""},on:{"update:visible":function(e){t.addOneVisable=e}}},[a("add-one-name",{attrs:{checkedData:t.checkedData,isEdit:t.isEdit},on:{addback:t.addback}})],1):t._e(),t._v(" "),t.addTwoVisable?a("el-dialog",{attrs:{title:t.title,visible:t.addTwoVisable,width:"50%","close-on-click-modal":!1},on:{"update:visible":function(e){t.addTwoVisable=e}}},[a("add-two-name",{attrs:{checkedData:t.checkedData,isEdit:t.isEdit},on:{addback:t.addback}})],1):t._e(),t._v(" "),t.sortNameVisable?a("el-dialog",{attrs:{title:"名册排序",visible:t.sortNameVisable,width:"50%"},on:{"update:visible":function(e){t.sortNameVisable=e},close:t.closeDialog}},[a("sort-name",{attrs:{checkedData:t.checkedData},on:{addback:t.addback}})],1):t._e()],1)},staticRenderFns:[]};var u=a("C7Lr")(d,h,!1,function(t){a("ehYT")},"data-v-595d8f65",null);e.default=u.exports},kd13:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={props:["checkedData","isEdit"],data:function(){return{rules:{mingceName:[{required:!0,message:"请输入名册名称",trigger:"change"}]},dataForm:{mingceName:"",padName:"",mingceType:1,mingceDesc:"",mingceId:""}}},created:function(){this.setFormData()},methods:{setFormData:function(){!1===this.isEdit&&(this.dataForm.mingceName=this.checkedData.name,this.dataForm.padName=this.checkedData.padName,this.dataForm.mingceType=Number(this.checkedData.type),this.dataForm.mingceDesc=this.checkedData.mingceDesc,this.dataForm.mingceId=this.checkedData.id)},saveArea:function(){var t=this;this.$refs.addForm.validate(function(e){e&&t.$http({url:t.$http.adornUrl(t.API.saveOrUpdateMingce),method:"post",data:t.$http.adornData(t.dataForm)}).then(function(e){var a=e.data;0==a.code?(t.$message({message:"成功",type:"success"}),t.$emit("addback",!0)):t.$message.error(a.msg)})})},cancle:function(){this.$emit("addback",!1)}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"addForm",attrs:{rules:t.rules,model:t.dataForm,"label-width":"150px"}},[a("el-row",[a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"名册名称",prop:"mingceName"}},[a("el-input",{attrs:{type:"text",maxlength:"15",placeholder:"请输入名册名称"},model:{value:t.dataForm.mingceName,callback:function(e){t.$set(t.dataForm,"mingceName",e)},expression:"dataForm.mingceName"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"PAD中简称",prop:"padName"}},[a("el-input",{attrs:{type:"text",maxlength:"10",placeholder:"请输入PAD中简称"},model:{value:t.dataForm.padName,callback:function(e){t.$set(t.dataForm,"padName",e)},expression:"dataForm.padName"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"名册类别",prop:"mingceType"}},[a("el-radio-group",{model:{value:t.dataForm.mingceType,callback:function(e){t.$set(t.dataForm,"mingceType",e)},expression:"dataForm.mingceType"}},[a("el-radio",{attrs:{label:1}},[t._v("机构名册")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("分类名册")])],1)],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"名册说明",prop:"mingceDesc"}},[a("el-input",{attrs:{type:"textarea",rows:5},model:{value:t.dataForm.mingceDesc,callback:function(e){t.$set(t.dataForm,"mingceDesc",e)},expression:"dataForm.mingceDesc"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.saveArea()}}},[t._v("保存")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.cancle()}}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]};var s=a("C7Lr")(i,n,!1,function(t){a("x+pU")},null,null);e.default=s.exports},"vj+K":function(t,e){},"x+pU":function(t,e){},yueR:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("3cXf"),n=a.n(i),s=a("0xDb"),r={components:{cadreContDialog:a("uLAq").default},props:["siteContentViewHeight"],data:function(){return{tableData:[],cadreContDialogVisable:!1,treeData:[]}},created:function(){},methods:{getDataList:function(t){var e=this;this.treeData=t,this.$http({url:this.$http.adornUrl(this.API.queryPersonMingceConditionAll),method:"post",data:this.$http.adornData({mingceId:t.id})}).then(function(t){var a=t.data;a&&0===a.code?e.tableData=a.data:e.$message.error(a.msg)})},addListClick:function(){this.checkedData=this.treeData,this.title="干部类别添加",this.cadreContDialogVisable=!0,this.isEdit=!0},edikListClick:function(t,e){var a=this;this.checkedData=this.treeData,this.title="干部类别修改",this.cadreContDialogVisable=!0,this.isEdit=!1,this.$nextTick(function(){a.$refs.addContDialog.getDataList(e)})},deleteListClick:function(t,e){var a=this;this.$confirm("确定删除选中记录?","操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$http({url:a.$http.adornUrl(a.API.deletePersonMingceCondition),method:"post",data:a.$http.adornData({conditionId:e.id})}).then(function(t){var e=t.data;0===e.code?(a.getDataList(),a.$message.success("删除成功")):a.$message.error(e.msg)})}).catch(function(){})},selectionChangeHandle:function(t){this.tableDataSelections=t},moveDirection:function(t){if(0!==this.tableDataSelections.length){var e,a=this;a.tableDataSelections.sort(function(t,e){return a.tableData.indexOf(t)-a.tableData.indexOf(e)}),"down"==t&&a.tableDataSelections.reverse(),a.tableDataSelections.forEach(function(i){e=a.tableData.indexOf(i),"up"==t?a.moveUp(e):"down"==t&&a.moveDown(e)})}else this.$confirm("请选择一条数据！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0})},moveUp:function(t){0!=t&&(this.tableData=Object(s.d)(this.tableData,t,t-1,"up"))},moveDown:function(t){t!=this.tableData.length-1&&(this.tableData=Object(s.d)(this.tableData,t,t+1,"down"))},saveMetaSort:function(){var t=this,e=[];this.tableData.length<0||(this.tableData.forEach(function(t,a){e.push({id:t.conditionId,orderno:a+1})}),this.$http({url:this.$http.adornUrl(this.API.personMingceConditionSort),method:"post",data:this.$http.adornData({data:n()(e)})}).then(function(e){var a=e.data;a&&0===a.code?(t.getDataList(t.treeData),t.$message.success("操作成功")):t.$message.error(a.msg)}))},indexMethod:function(t){return t+1},addback:function(t){this.cadreContDialogVisable=!1,t&&this.getDataList(this.treeData)}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("el-main",[a("div",{staticClass:"table-header-btn"},[a("div",{staticClass:"table-header-btn-l"}),t._v(" "),a("div",{staticClass:"table-header-btn-r"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.addListClick()}}},[t._v("添加")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.moveDirection("up")}}},[t._v("上移")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.moveDirection("down")}}},[t._v("下移")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.saveMetaSort}},[t._v("保存排序")])],1)]),t._v(" "),a("el-table",{ref:"multipleTable",attrs:{data:t.tableData,height:t.siteContentViewHeight-93+"px"},on:{"selection-change":t.selectionChangeHandle}},[a("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{width:"50",fixed:"",type:"index",index:t.indexMethod,label:"序号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"conditionDesc",label:"描述"}}),t._v(" "),a("el-table-column",{attrs:{label:"是否启用"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?a("el-tag",{attrs:{size:"small"}},[t._v("是")]):a("el-tag",{attrs:{size:"small",type:"danger"}},[t._v("否")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(a){return t.edikListClick(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",plain:""},on:{click:function(a){return t.deleteListClick(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),t.cadreContDialogVisable?a("el-dialog",{attrs:{title:t.title,visible:t.cadreContDialogVisable,width:"80%","close-on-click-modal":!1},on:{"update:visible":function(e){t.cadreContDialogVisable=e}}},[a("cadre-cont-dialog",{ref:"addContDialog",attrs:{checkedData:t.checkedData,isEdit:t.isEdit},on:{addback:t.addback}})],1):t._e()],1)},staticRenderFns:[]};var c=a("C7Lr")(r,o,!1,function(t){a("vj+K")},"data-v-40e97523",null);e.default=c.exports}});
//# sourceMappingURL=2.b0bca1df30b55d2b0336.js.map