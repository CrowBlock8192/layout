webpackJsonprmsh([51],{"0ZNV":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("3cXf"),i=a.n(n),o=a("0xDb"),r={name:"dictionarySort",components:{},props:{itemPId:{type:String},dictcode:{type:String}},data:function(){return{tableData:[]}},computed:{},watch:{},methods:{indexMethod:function(t){return t+1},selectDictionarySort:function(){var t=this,e={};e.itemPid=t.itemPId,e.dictCode=t.dictcode,this.$http({url:this.$http.adornUrl(this.API.getDictItemListByCode),method:"post",data:this.$http.adornData(e)}).then(function(e){var a=e.data;0===a.code?t.tableData=a.data.data:t.$message.error(a.data.msg)}).catch(function(t){this.$message.error(t)})},selectionChangeHandle:function(t){this.tableDataSelections=t},moveDirection:function(t){var e,a=this;a.tableDataSelections.sort(function(t,e){return a.tableData.indexOf(t)-a.tableData.indexOf(e)}),"down"==t&&a.tableDataSelections.reverse(),a.tableDataSelections.forEach(function(n){e=a.tableData.indexOf(n),"up"==t?a.moveUp(e):"down"==t&&a.moveDown(e)})},moveUp:function(t){0!=t&&(this.tableData=Object(o.d)(this.tableData,t,t-1,"up"))},moveDown:function(t){t!=this.tableData.length-1&&(this.tableData=Object(o.d)(this.tableData,t,t+1,"down"))},saveSort:function(){var t=this,e=[];this.tableData.length<0||(this.tableData.forEach(function(t,a){e.push({itemId:t.itemId,orderno:a+1})}),this.$http({url:this.$http.adornUrl(this.API.dictItemSort),method:"post",data:this.$http.adornData({data:i()(e)})}).then(function(e){var a=e.data;a&&0===a.code?(t.$emit("dialogSortClose"),t.$emit("selectItemCode"),t.$message.success("操作成功")):t.$message.error(a.msg)}))}},created:function(){},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sortBody"},[a("div",{staticClass:"saveBtn"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.moveDirection("up")}}},[t._v("上移")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.moveDirection("down")}}},[t._v("下移")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.saveSort}},[t._v("保存")])],1),t._v(" "),a("div",{staticClass:"sortFrom"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"dark"},on:{"selection-change":t.selectionChangeHandle}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{width:"50px",fixed:"",type:"index",index:t.indexMethod,label:"序号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"itemName",label:"名称",align:"center"}})],1)],1)])},staticRenderFns:[]};var c=a("C7Lr")(r,s,!1,function(t){a("wPxV")},"data-v-5baf90ea",null);e.default=c.exports},wPxV:function(t,e){}});
//# sourceMappingURL=51.06093b3847dccc567a28.js.map